2025-03-23T01:30:38.393+03:00  INFO 17696 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 17696 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T01:30:38.394+03:00  INFO 17696 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T01:30:38.986+03:00  INFO 17696 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T01:30:39.033+03:00  INFO 17696 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 10 JPA repository interfaces.
2025-03-23T01:30:39.534+03:00  INFO 17696 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T01:30:39.544+03:00  INFO 17696 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T01:30:39.545+03:00  INFO 17696 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T01:30:39.584+03:00  INFO 17696 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T01:30:39.584+03:00  INFO 17696 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1147 ms
2025-03-23T01:30:39.759+03:00  INFO 17696 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T01:30:39.868+03:00  INFO 17696 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@265a094b
2025-03-23T01:30:39.869+03:00  INFO 17696 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T01:30:39.888+03:00  INFO 17696 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T01:30:39.929+03:00  INFO 17696 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.028s)
2025-03-23T01:30:39.974+03:00  INFO 17696 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T01:30:39.976+03:00  INFO 17696 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T01:30:40.032+03:00  INFO 17696 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T01:30:40.078+03:00  INFO 17696 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T01:30:40.102+03:00  INFO 17696 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T01:30:40.301+03:00  INFO 17696 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T01:30:40.664+03:00  WARN 17696 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:30:40.711+03:00  INFO 17696 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T01:30:40.717+03:00  WARN 17696 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:30:40.719+03:00  INFO 17696 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T01:30:40.719+03:00  WARN 17696 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:30:40.721+03:00  INFO 17696 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T01:30:40.721+03:00  WARN 17696 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:30:40.722+03:00  INFO 17696 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T01:30:40.722+03:00  WARN 17696 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:30:40.723+03:00  INFO 17696 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T01:30:40.724+03:00  WARN 17696 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:30:40.725+03:00  INFO 17696 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T01:30:40.725+03:00  WARN 17696 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:30:40.726+03:00  INFO 17696 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T01:30:40.726+03:00  WARN 17696 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:30:40.727+03:00  INFO 17696 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T01:30:40.727+03:00  WARN 17696 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:30:40.729+03:00  INFO 17696 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T01:30:40.729+03:00  WARN 17696 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:30:40.730+03:00  INFO 17696 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T01:30:41.225+03:00  INFO 17696 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T01:30:41.227+03:00  INFO 17696 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T01:30:41.455+03:00  INFO 17696 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T01:30:41.532+03:00  WARN 17696 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T01:30:41.548+03:00  INFO 17696 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T01:30:41.549+03:00  WARN 17696 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T01:30:41.714+03:00 DEBUG 17696 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T01:30:41.859+03:00  INFO 17696 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T01:30:41.864+03:00  INFO 17696 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 3.851 seconds (process running for 4.363)
2025-03-23T01:31:33.020+03:00  INFO 17696 --- [demo1] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T01:31:33.020+03:00  INFO 17696 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T01:31:33.021+03:00  INFO 17696 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-23T01:31:33.033+03:00 DEBUG 17696 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /listing
2025-03-23T01:31:33.505+03:00 DEBUG 17696 --- [demo1] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T01:31:33.506+03:00 DEBUG 17696 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@c8f9c9a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-03-23T01:31:33.508+03:00 DEBUG 17696 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /listing
2025-03-23T01:31:33.585+03:00  INFO 17696 --- [demo1] [http-nio-8080-exec-2] com.example.impl.ListingImpl             : Adding listing: ListingDto(id=6, userId=3, title=Notebook, description=High perfomance Notebook, price=20.0, createdAt=Sun Mar 23 01:31:33 MSK 2025)
2025-03-23T01:31:44.233+03:00 DEBUG 17696 --- [demo1] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /listing
2025-03-23T01:31:44.478+03:00 DEBUG 17696 --- [demo1] [http-nio-8080-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T01:31:44.479+03:00 DEBUG 17696 --- [demo1] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@4ed7ae7b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-03-23T01:31:44.479+03:00 DEBUG 17696 --- [demo1] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /listing
2025-03-23T01:31:44.485+03:00  INFO 17696 --- [demo1] [http-nio-8080-exec-3] com.example.impl.ListingImpl             : Adding listing: ListingDto(id=7, userId=3, title=Notebookasdadasdasdasdasdasdasdsadadsasdfgsdaedfqwdqwegtmjrwhjupoiqafhsnjwdgoasldndafmo;AsDKAKDMNVALSCMASKL;CMAS;OCVMN;ASLOCFK,ASL;PFSADFASDFASD, description=High perfomance Notebook, price=20.0, createdAt=Sun Mar 23 01:31:44 MSK 2025)
2025-03-23T01:31:56.406+03:00  INFO 17696 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T01:31:56.409+03:00  INFO 17696 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T01:31:56.412+03:00  INFO 17696 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T01:31:56.414+03:00  INFO 17696 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T01:31:56.415+03:00  INFO 17696 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T01:31:56.415+03:00  INFO 17696 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T01:31:56.415+03:00  INFO 17696 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T01:31:56.415+03:00  INFO 17696 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T01:31:56.415+03:00  INFO 17696 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T01:31:56.415+03:00  INFO 17696 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T01:31:56.416+03:00  INFO 17696 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T01:31:56.416+03:00  INFO 17696 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T01:31:56.416+03:00  INFO 17696 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T01:31:56.419+03:00  INFO 17696 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T01:31:56.421+03:00  INFO 17696 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T01:33:10.297+03:00  INFO 22296 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 22296 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T01:33:10.299+03:00  INFO 22296 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T01:33:10.728+03:00  INFO 22296 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T01:33:10.773+03:00  INFO 22296 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 10 JPA repository interfaces.
2025-03-23T01:33:11.243+03:00  INFO 22296 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T01:33:11.253+03:00  INFO 22296 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T01:33:11.253+03:00  INFO 22296 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T01:33:11.290+03:00  INFO 22296 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T01:33:11.290+03:00  INFO 22296 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 945 ms
2025-03-23T01:33:11.465+03:00  INFO 22296 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T01:33:11.699+03:00  INFO 22296 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1a7cb3a4
2025-03-23T01:33:11.700+03:00  INFO 22296 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T01:33:11.718+03:00  INFO 22296 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T01:33:11.752+03:00  INFO 22296 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.020s)
2025-03-23T01:33:11.796+03:00  INFO 22296 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T01:33:11.798+03:00  INFO 22296 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T01:33:11.852+03:00  INFO 22296 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T01:33:11.900+03:00  INFO 22296 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T01:33:11.929+03:00  INFO 22296 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T01:33:12.129+03:00  INFO 22296 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T01:33:12.503+03:00  WARN 22296 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:33:12.556+03:00  INFO 22296 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T01:33:12.563+03:00  WARN 22296 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:33:12.564+03:00  INFO 22296 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T01:33:12.565+03:00  WARN 22296 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:33:12.566+03:00  INFO 22296 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T01:33:12.566+03:00  WARN 22296 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:33:12.567+03:00  INFO 22296 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T01:33:12.568+03:00  WARN 22296 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:33:12.569+03:00  INFO 22296 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T01:33:12.569+03:00  WARN 22296 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:33:12.570+03:00  INFO 22296 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T01:33:12.570+03:00  WARN 22296 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:33:12.571+03:00  INFO 22296 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T01:33:12.571+03:00  WARN 22296 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:33:12.572+03:00  INFO 22296 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T01:33:12.573+03:00  WARN 22296 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:33:12.574+03:00  INFO 22296 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T01:33:12.574+03:00  WARN 22296 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:33:12.575+03:00  INFO 22296 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T01:33:13.078+03:00  INFO 22296 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T01:33:13.080+03:00  INFO 22296 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T01:33:13.300+03:00  INFO 22296 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T01:33:13.376+03:00  WARN 22296 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T01:33:13.393+03:00  INFO 22296 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T01:33:13.393+03:00  WARN 22296 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T01:33:13.554+03:00 DEBUG 22296 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T01:33:13.695+03:00  INFO 22296 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T01:33:13.700+03:00  INFO 22296 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 3.718 seconds (process running for 4.138)
2025-03-23T01:33:16.786+03:00  INFO 22296 --- [demo1] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T01:33:16.787+03:00  INFO 22296 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T01:33:16.787+03:00  INFO 22296 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-03-23T01:33:16.798+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /listing
2025-03-23T01:33:17.261+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T01:33:17.262+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@2e97e8ee, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-03-23T01:33:17.264+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /listing
2025-03-23T01:33:17.333+03:00  WARN 22296 --- [demo1] [http-nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.example.controller.ListingControllerTest.addListing(com.example.model.ListingDto) with 2 errors: [Field error in object 'listingDto' on field 'userId': rejected value [null]; codes [NotNull.listingDto.userId,NotNull.userId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [listingDto.userId,userId]; arguments []; default message [userId]]; default message [Invalid ID. Please enter correct ID]] [Field error in object 'listingDto' on field 'title': rejected value [Notebookasdadasdasdasdasdasdasdsadadsasdfgsdaedfqwdqwegtmjrwhjupoiqafhsnjwdgoasldndafmo;AsDKAKDMNVALSCMASKL;CMAS;OCVMN;ASLOCFK,ASL;PFSADFASDFASD]; codes [Size.listingDto.title,Size.title,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [listingDto.title,title]; arguments []; default message [title],50,3]; default message [Invalid title. Size should be between 3 to 50.]] ]
2025-03-23T01:33:17.338+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-03-23T01:33:17.338+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /error
2025-03-23T01:33:48.712+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /listing
2025-03-23T01:33:48.968+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T01:33:48.968+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@3f78c4e9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-03-23T01:33:48.968+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /listing
2025-03-23T01:33:48.970+03:00  WARN 22296 --- [demo1] [http-nio-8080-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.example.controller.ListingControllerTest.addListing(com.example.model.ListingDto): [Field error in object 'listingDto' on field 'userId': rejected value [null]; codes [NotNull.listingDto.userId,NotNull.userId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [listingDto.userId,userId]; arguments []; default message [userId]]; default message [Invalid ID. Please enter correct ID]] ]
2025-03-23T01:33:48.971+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-03-23T01:33:48.971+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /error
2025-03-23T01:34:09.864+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /listing
2025-03-23T01:34:10.108+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T01:34:10.108+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@2bf92260, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-03-23T01:34:10.108+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /listing
2025-03-23T01:34:10.147+03:00  INFO 22296 --- [demo1] [http-nio-8080-exec-6] com.example.impl.ListingImpl             : Adding listing: ListingDto(id=8, userId=3, title=Notebook, description=High perfomance Notebook, price=20.0, createdAt=Sun Mar 23 01:34:10 MSK 2025)
2025-03-23T01:35:25.292+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing PUT /listing/8
2025-03-23T01:35:25.551+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-9] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T01:35:25.552+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@357e1617, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-03-23T01:35:25.552+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured PUT /listing/8
2025-03-23T01:35:25.570+03:00  INFO 22296 --- [demo1] [http-nio-8080-exec-9] com.example.impl.ListingImpl             : Get listing: com.example.model.Listing@6162dd87
2025-03-23T01:35:25.588+03:00  INFO 22296 --- [demo1] [http-nio-8080-exec-9] com.example.impl.ListingImpl             : Updating listing: ListingDto(id=8, userId=3, title=Notebookasdasd, description=High perfomance Notebook, price=20.0, createdAt=2025-03-23 01:34:10.113)
2025-03-23T01:35:30.660+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing PUT /listing/8
2025-03-23T01:35:30.910+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-10] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T01:35:30.910+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-10] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@640fa204, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-03-23T01:35:30.910+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured PUT /listing/8
2025-03-23T01:35:30.912+03:00  WARN 22296 --- [demo1] [http-nio-8080-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.example.controller.ListingControllerTest.updateListing(com.example.model.ListingDto,java.lang.Long): [Field error in object 'listingDto' on field 'title': rejected value [NotebookasdasdsdFMKLSjbhafVIWkpo{difsIJHBWGEOKFPQWE3GKW   DEP'JEWKL;FKSALKDCSAKMDJASL;DKSADKASDKASDASDASD]; codes [Size.listingDto.title,Size.title,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [listingDto.title,title]; arguments []; default message [title],50,3]; default message [Invalid title. Size should be between 3 to 50.]] ]
2025-03-23T01:35:30.912+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-03-23T01:35:30.912+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured PUT /error
2025-03-23T01:35:33.935+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing PUT /listing/8
2025-03-23T01:35:34.185+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T01:35:34.185+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@22eb6423, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-03-23T01:35:34.185+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured PUT /listing/8
2025-03-23T01:35:34.187+03:00  WARN 22296 --- [demo1] [http-nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.example.controller.ListingControllerTest.updateListing(com.example.model.ListingDto,java.lang.Long) with 2 errors: [Field error in object 'listingDto' on field 'title': rejected value []; codes [Size.listingDto.title,Size.title,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [listingDto.title,title]; arguments []; default message [title],50,3]; default message [Invalid title. Size should be between 3 to 50.]] [Field error in object 'listingDto' on field 'title': rejected value []; codes [NotEmpty.listingDto.title,NotEmpty.title,NotEmpty.java.lang.String,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [listingDto.title,title]; arguments []; default message [title]]; default message [Please enter the title.]] ]
2025-03-23T01:35:34.188+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-03-23T01:35:34.188+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured PUT /error
2025-03-23T01:35:50.093+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing PUT /listing/8
2025-03-23T01:35:50.341+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T01:35:50.342+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@51a749e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-03-23T01:35:50.342+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured PUT /listing/8
2025-03-23T01:35:50.348+03:00  INFO 22296 --- [demo1] [http-nio-8080-exec-4] com.example.impl.ListingImpl             : Get listing: com.example.model.Listing@5f5e5670
2025-03-23T01:35:50.352+03:00  INFO 22296 --- [demo1] [http-nio-8080-exec-4] com.example.impl.ListingImpl             : Updating listing: ListingDto(id=8, userId=3, title=NotebookD, description=High perfomance Notebook, price=20.0, createdAt=2025-03-23 01:34:10.113)
2025-03-23T01:35:56.552+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing DELETE /listing/8
2025-03-23T01:35:56.807+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-5] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T01:35:56.807+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@371f9cab, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-03-23T01:35:56.807+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured DELETE /listing/8
2025-03-23T01:35:56.811+03:00  INFO 22296 --- [demo1] [http-nio-8080-exec-5] com.example.impl.ListingImpl             : Get listing: com.example.model.Listing@6cdcba3b
2025-03-23T01:35:56.823+03:00  INFO 22296 --- [demo1] [http-nio-8080-exec-5] com.example.impl.ListingImpl             : Removing listing: 8
2025-03-23T01:36:43.827+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /register
2025-03-23T01:36:44.082+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T01:36:44.082+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@7054e7dc, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-03-23T01:36:44.082+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /register
2025-03-23T01:36:44.086+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-03-23T01:36:44.086+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /error
2025-03-23T01:37:21.295+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /register
2025-03-23T01:37:21.541+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-7] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T01:37:21.541+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-7] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@3df75852, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-03-23T01:37:21.541+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /register
2025-03-23T01:37:21.544+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-03-23T01:37:21.545+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /error
2025-03-23T01:37:32.726+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /auth/register
2025-03-23T01:37:32.972+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T01:37:32.972+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-8] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@1002f36c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-03-23T01:37:32.972+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /auth/register
2025-03-23T01:37:32.990+03:00  WARN 22296 --- [demo1] [http-nio-8080-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.example.controller.AuthController.register(com.example.model.UserDto): [Field error in object 'userDto' on field 'username': rejected value [newuser2345611212312312]; codes [Size.userDto.username,Size.username,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userDto.username,username]; arguments []; default message [username],20,3]; default message [Invalid name. Size should be between 3 to 20.]] ]
2025-03-23T01:37:32.991+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-03-23T01:37:32.991+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /error
2025-03-23T01:37:51.623+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /auth/register
2025-03-23T01:37:51.874+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-10] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T01:37:51.874+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-10] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@3f8a2bc3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-03-23T01:37:51.874+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /auth/register
2025-03-23T01:37:51.947+03:00  INFO 22296 --- [demo1] [http-nio-8080-exec-10] com.example.impl.UserImpl                : Adding user: UserDto(id=6, username=newuser23456, email=newuser@example.com, phone=+375291680734, roleId=1, passwordHash=$2a$10$4V6dpgNpf8Jy5cjHJi.FGe93E6HAtqnSiv7Xq6P787pn7t8bKtQM6)
2025-03-23T01:38:01.228+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /auth/register
2025-03-23T01:38:01.473+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T01:38:01.473+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@e98ffa8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-03-23T01:38:01.474+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /auth/register
2025-03-23T01:38:01.542+03:00  INFO 22296 --- [demo1] [http-nio-8080-exec-1] com.example.impl.UserImpl                : Adding user: UserDto(id=7, username=newuser2345622, email=newuser@example.asdasd, phone=+375291680734, roleId=1, passwordHash=$2a$10$4Wxve1kYrhh4kx448QCUS.wf8antoKnuuNfKjPEtyh4m7PiQasTki)
2025-03-23T01:38:08.900+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /auth/register
2025-03-23T01:38:09.156+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T01:38:09.157+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@5c03740a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-03-23T01:38:09.157+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /auth/register
2025-03-23T01:38:09.159+03:00  WARN 22296 --- [demo1] [http-nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.example.controller.AuthController.register(com.example.model.UserDto): [Field error in object 'userDto' on field 'email': rejected value [newuser]; codes [Email.userDto.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userDto.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@48689775,.*]; default message [Invalid email address. Please enter a proper email ID.]] ]
2025-03-23T01:38:09.160+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-03-23T01:38:09.160+03:00 DEBUG 22296 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /error
2025-03-23T01:38:26.264+03:00  INFO 22296 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T01:38:26.267+03:00  INFO 22296 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T01:38:26.270+03:00  INFO 22296 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T01:38:26.272+03:00  INFO 22296 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T01:38:26.272+03:00  INFO 22296 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T01:38:26.272+03:00  INFO 22296 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T01:38:26.272+03:00  INFO 22296 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T01:38:26.273+03:00  INFO 22296 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T01:38:26.273+03:00  INFO 22296 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T01:38:26.273+03:00  INFO 22296 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T01:38:26.273+03:00  INFO 22296 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T01:38:26.273+03:00  INFO 22296 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T01:38:26.273+03:00  INFO 22296 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T01:38:26.276+03:00  INFO 22296 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T01:38:26.278+03:00  INFO 22296 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T01:50:39.006+03:00  INFO 18856 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 18856 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T01:50:39.008+03:00  INFO 18856 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T01:50:39.406+03:00  INFO 18856 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T01:50:39.451+03:00  INFO 18856 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 10 JPA repository interfaces.
2025-03-23T01:50:39.914+03:00  INFO 18856 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T01:50:39.924+03:00  INFO 18856 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T01:50:39.924+03:00  INFO 18856 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T01:50:39.963+03:00  INFO 18856 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T01:50:39.964+03:00  INFO 18856 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 915 ms
2025-03-23T01:50:40.138+03:00  INFO 18856 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T01:50:40.351+03:00  INFO 18856 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7fbf26fc
2025-03-23T01:50:40.352+03:00  INFO 18856 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T01:50:40.369+03:00  INFO 18856 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T01:50:40.400+03:00  INFO 18856 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.019s)
2025-03-23T01:50:40.445+03:00  INFO 18856 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T01:50:40.447+03:00  INFO 18856 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T01:50:40.500+03:00  INFO 18856 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T01:50:40.543+03:00  INFO 18856 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T01:50:40.569+03:00  INFO 18856 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T01:50:40.763+03:00  INFO 18856 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T01:50:41.113+03:00  WARN 18856 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:50:41.160+03:00  INFO 18856 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T01:50:41.167+03:00  WARN 18856 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:50:41.168+03:00  INFO 18856 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T01:50:41.168+03:00  WARN 18856 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:50:41.170+03:00  INFO 18856 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T01:50:41.170+03:00  WARN 18856 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:50:41.171+03:00  INFO 18856 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T01:50:41.172+03:00  WARN 18856 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:50:41.173+03:00  INFO 18856 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T01:50:41.173+03:00  WARN 18856 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:50:41.174+03:00  INFO 18856 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T01:50:41.174+03:00  WARN 18856 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:50:41.175+03:00  INFO 18856 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T01:50:41.175+03:00  WARN 18856 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:50:41.176+03:00  INFO 18856 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T01:50:41.177+03:00  WARN 18856 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:50:41.178+03:00  INFO 18856 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T01:50:41.178+03:00  WARN 18856 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:50:41.179+03:00  INFO 18856 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T01:50:41.666+03:00  INFO 18856 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T01:50:41.669+03:00  INFO 18856 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T01:50:41.885+03:00  INFO 18856 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T01:50:41.965+03:00  WARN 18856 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T01:50:41.981+03:00  INFO 18856 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T01:50:41.981+03:00  WARN 18856 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T01:50:42.146+03:00 DEBUG 18856 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T01:50:42.286+03:00  INFO 18856 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T01:50:42.292+03:00  INFO 18856 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 3.611 seconds (process running for 4.046)
2025-03-23T01:50:59.866+03:00  INFO 18856 --- [demo1] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T01:50:59.866+03:00  INFO 18856 --- [demo1] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T01:50:59.867+03:00  INFO 18856 --- [demo1] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-23T01:50:59.879+03:00 DEBUG 18856 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /auth/register
2025-03-23T01:51:00.347+03:00 DEBUG 18856 --- [demo1] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T01:51:00.348+03:00 DEBUG 18856 --- [demo1] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@6828db4d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-03-23T01:51:00.350+03:00 DEBUG 18856 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /auth/register
2025-03-23T01:51:00.416+03:00  WARN 18856 --- [demo1] [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.example.controller.AuthController.register(com.example.model.UserDto): [Field error in object 'userDto' on field 'email': rejected value [newuser]; codes [Email.userDto.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userDto.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@4e17ba0f,.*]; default message [Invalid email address. Please enter a proper email ID.]] ]
2025-03-23T01:51:00.420+03:00 DEBUG 18856 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-03-23T01:51:00.420+03:00 DEBUG 18856 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /error
2025-03-23T01:51:15.919+03:00  INFO 18856 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T01:51:15.922+03:00  INFO 18856 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T01:51:15.925+03:00  INFO 18856 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T01:51:15.928+03:00  INFO 18856 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T01:51:15.928+03:00  INFO 18856 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T01:51:15.928+03:00  INFO 18856 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T01:51:15.928+03:00  INFO 18856 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T01:51:15.928+03:00  INFO 18856 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T01:51:15.928+03:00  INFO 18856 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T01:51:15.928+03:00  INFO 18856 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T01:51:15.929+03:00  INFO 18856 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T01:51:15.929+03:00  INFO 18856 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T01:51:15.929+03:00  INFO 18856 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T01:51:15.932+03:00  INFO 18856 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T01:51:15.933+03:00  INFO 18856 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T01:51:30.424+03:00  INFO 21152 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 21152 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T01:51:30.425+03:00  INFO 21152 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T01:51:30.841+03:00  INFO 21152 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T01:51:30.885+03:00  INFO 21152 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 10 JPA repository interfaces.
2025-03-23T01:51:31.362+03:00  INFO 21152 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T01:51:31.373+03:00  INFO 21152 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T01:51:31.373+03:00  INFO 21152 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T01:51:31.414+03:00  INFO 21152 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T01:51:31.415+03:00  INFO 21152 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 944 ms
2025-03-23T01:51:31.593+03:00  INFO 21152 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T01:51:31.709+03:00  INFO 21152 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@79d7035
2025-03-23T01:51:31.710+03:00  INFO 21152 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T01:51:31.729+03:00  INFO 21152 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T01:51:31.765+03:00  INFO 21152 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.021s)
2025-03-23T01:51:31.811+03:00  INFO 21152 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T01:51:31.814+03:00  INFO 21152 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T01:51:31.875+03:00  INFO 21152 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T01:51:31.920+03:00  INFO 21152 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T01:51:31.946+03:00  INFO 21152 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T01:51:32.146+03:00  INFO 21152 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T01:51:32.518+03:00  WARN 21152 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:51:32.568+03:00  INFO 21152 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T01:51:32.575+03:00  WARN 21152 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:51:32.577+03:00  INFO 21152 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T01:51:32.577+03:00  WARN 21152 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:51:32.582+03:00  INFO 21152 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T01:51:32.582+03:00  WARN 21152 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:51:32.584+03:00  INFO 21152 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T01:51:32.584+03:00  WARN 21152 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:51:32.585+03:00  INFO 21152 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T01:51:32.585+03:00  WARN 21152 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:51:32.587+03:00  INFO 21152 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T01:51:32.587+03:00  WARN 21152 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:51:32.588+03:00  INFO 21152 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T01:51:32.589+03:00  WARN 21152 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:51:32.590+03:00  INFO 21152 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T01:51:32.590+03:00  WARN 21152 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:51:32.591+03:00  INFO 21152 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T01:51:32.591+03:00  WARN 21152 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T01:51:32.592+03:00  INFO 21152 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T01:51:33.095+03:00  INFO 21152 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T01:51:33.097+03:00  INFO 21152 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T01:51:33.326+03:00  INFO 21152 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T01:51:33.422+03:00  WARN 21152 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T01:51:33.440+03:00  INFO 21152 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T01:51:33.441+03:00  WARN 21152 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T01:51:33.603+03:00 DEBUG 21152 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T01:51:33.754+03:00  INFO 21152 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T01:51:33.759+03:00  INFO 21152 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 3.675 seconds (process running for 4.093)
2025-03-23T01:51:47.422+03:00  INFO 21152 --- [demo1] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T01:51:47.422+03:00  INFO 21152 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T01:51:47.423+03:00  INFO 21152 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-03-23T01:51:47.435+03:00 DEBUG 21152 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /auth/register
2025-03-23T01:51:47.908+03:00 DEBUG 21152 --- [demo1] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T01:51:47.908+03:00 DEBUG 21152 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@30b670ea, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-03-23T01:51:47.910+03:00 DEBUG 21152 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /auth/register
2025-03-23T01:58:04.036+03:00  INFO 21152 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T01:58:04.039+03:00  INFO 21152 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T01:58:04.043+03:00  INFO 21152 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T01:58:04.045+03:00  INFO 21152 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T01:58:04.045+03:00  INFO 21152 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T01:58:04.045+03:00  INFO 21152 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T01:58:04.045+03:00  INFO 21152 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T01:58:04.045+03:00  INFO 21152 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T01:58:04.045+03:00  INFO 21152 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T01:58:04.045+03:00  INFO 21152 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T01:58:04.045+03:00  INFO 21152 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T01:58:04.046+03:00  INFO 21152 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T01:58:04.046+03:00  INFO 21152 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T01:58:04.049+03:00  INFO 21152 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T01:58:04.051+03:00  INFO 21152 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T10:01:37.754+03:00  INFO 6636 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 6636 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T10:01:37.756+03:00  INFO 6636 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T10:01:38.682+03:00  INFO 6636 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T10:01:38.731+03:00  INFO 6636 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 10 JPA repository interfaces.
2025-03-23T10:01:39.427+03:00  INFO 6636 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T10:01:39.439+03:00  INFO 6636 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T10:01:39.439+03:00  INFO 6636 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T10:01:39.480+03:00  INFO 6636 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T10:01:39.481+03:00  INFO 6636 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1678 ms
2025-03-23T10:01:39.726+03:00  INFO 6636 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T10:01:39.945+03:00  INFO 6636 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6e1ae763
2025-03-23T10:01:39.946+03:00  INFO 6636 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T10:01:39.973+03:00  INFO 6636 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T10:01:40.035+03:00  INFO 6636 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.043s)
2025-03-23T10:01:40.202+03:00  INFO 6636 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T10:01:40.206+03:00  INFO 6636 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T10:01:40.278+03:00  INFO 6636 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T10:01:40.344+03:00  INFO 6636 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T10:01:40.389+03:00  INFO 6636 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T10:01:40.722+03:00  INFO 6636 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T10:01:41.239+03:00  WARN 6636 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:01:41.306+03:00  INFO 6636 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T10:01:41.315+03:00  WARN 6636 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:01:41.316+03:00  INFO 6636 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T10:01:41.317+03:00  WARN 6636 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:01:41.318+03:00  INFO 6636 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T10:01:41.319+03:00  WARN 6636 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:01:41.320+03:00  INFO 6636 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T10:01:41.320+03:00  WARN 6636 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:01:41.322+03:00  INFO 6636 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T10:01:41.322+03:00  WARN 6636 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:01:41.323+03:00  INFO 6636 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T10:01:41.323+03:00  WARN 6636 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:01:41.324+03:00  INFO 6636 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T10:01:41.324+03:00  WARN 6636 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:01:41.326+03:00  INFO 6636 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T10:01:41.326+03:00  WARN 6636 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:01:41.328+03:00  INFO 6636 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T10:01:41.328+03:00  WARN 6636 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:01:41.333+03:00  INFO 6636 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T10:01:42.003+03:00  INFO 6636 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T10:01:42.008+03:00  INFO 6636 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:01:42.289+03:00  INFO 6636 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T10:01:42.394+03:00  WARN 6636 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T10:01:42.415+03:00  INFO 6636 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T10:01:42.415+03:00  WARN 6636 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T10:01:42.629+03:00 DEBUG 6636 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T10:01:42.797+03:00  INFO 6636 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T10:01:42.803+03:00  INFO 6636 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 5.512 seconds (process running for 6.635)
2025-03-23T10:02:00.330+03:00  INFO 6636 --- [demo1] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T10:02:00.330+03:00  INFO 6636 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T10:02:00.331+03:00  INFO 6636 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-23T10:02:00.341+03:00 DEBUG 6636 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /listing
2025-03-23T10:02:00.806+03:00 DEBUG 6636 --- [demo1] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T10:02:00.807+03:00 DEBUG 6636 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@4c9bb512, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[Admin]]
2025-03-23T10:02:00.808+03:00 DEBUG 6636 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /listing
2025-03-23T10:02:00.855+03:00  INFO 6636 --- [demo1] [http-nio-8080-exec-2] com.example.impl.ListingImpl             : Get listing: [com.example.model.Listing@1a582722, com.example.model.Listing@1f9f124d, com.example.model.Listing@60f3265c, com.example.model.Listing@652be57, com.example.model.Listing@6779bb1a, com.example.model.Listing@24be6612, com.example.model.Listing@499379f7]
2025-03-23T10:02:00.859+03:00  INFO 6636 --- [demo1] [http-nio-8080-exec-2] com.example.impl.PromotionImpl           : Get all promotions: [com.example.model.Promotion@5e6d367d, com.example.model.Promotion@281b14c4, com.example.model.Promotion@4ea3acf4, com.example.model.Promotion@2ca3d60a, com.example.model.Promotion@1bfaa50a]
2025-03-23T10:02:00.865+03:00  INFO 6636 --- [demo1] [http-nio-8080-exec-2] com.example.impl.RatingImpl              : Get all ratings: [com.example.model.Rating@76f5c46d, com.example.model.Rating@b5d60d5, com.example.model.Rating@12614c8d, com.example.model.Rating@4342d662, com.example.model.Rating@4efa88d8, com.example.model.Rating@3b181ea1, com.example.model.Rating@1ea0186, com.example.model.Rating@6658cd0f, com.example.model.Rating@542a1d53, com.example.model.Rating@2ea9b7a2, com.example.model.Rating@12d02656, com.example.model.Rating@524ecaeb, com.example.model.Rating@7b458321, com.example.model.Rating@2dc566dd, com.example.model.Rating@5f45ba65]
2025-03-23T10:03:01.477+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T10:03:01.480+03:00  INFO 6636 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T10:03:01.483+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:03:01.486+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T10:03:01.486+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T10:03:01.486+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T10:03:01.486+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T10:03:01.487+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T10:03:01.487+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T10:03:01.487+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T10:03:01.487+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T10:03:01.487+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T10:03:01.487+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T10:03:01.491+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T10:03:01.493+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T10:05:22.600+03:00  INFO 18812 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 18812 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T10:05:22.602+03:00  INFO 18812 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T10:05:22.975+03:00  INFO 18812 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T10:05:23.020+03:00  INFO 18812 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 10 JPA repository interfaces.
2025-03-23T10:05:23.479+03:00  INFO 18812 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T10:05:23.490+03:00  INFO 18812 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T10:05:23.490+03:00  INFO 18812 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T10:05:23.526+03:00  INFO 18812 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T10:05:23.526+03:00  INFO 18812 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 883 ms
2025-03-23T10:05:23.704+03:00  INFO 18812 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T10:05:23.812+03:00  INFO 18812 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4fecf308
2025-03-23T10:05:23.813+03:00  INFO 18812 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T10:05:23.831+03:00  INFO 18812 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T10:05:23.862+03:00  INFO 18812 --- [demo1] [main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table "public"."flyway_schema_history" does not exist yet
2025-03-23T10:05:23.864+03:00  INFO 18812 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.019s)
2025-03-23T10:05:23.873+03:00  INFO 18812 --- [demo1] [main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table "public"."flyway_schema_history" ...
2025-03-23T10:05:23.939+03:00  INFO 18812 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": << Empty Schema >>
2025-03-23T10:05:23.947+03:00  INFO 18812 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "public" to version "1 - create tables"
2025-03-23T10:05:23.991+03:00  INFO 18812 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "public" to version "2 - insert tables"
2025-03-23T10:05:24.008+03:00 ERROR 18812 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Migration of schema "public" to version "2 - insert tables" failed! Changes successfully rolled back.
2025-03-23T10:05:24.010+03:00  WARN 18812 --- [demo1] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V2__insert_tables.sql failed
-----------------------------------
SQL State  : 42601
Error Code : 0
Message    : ОШИБКА: ошибка синтаксиса (примерное положение: "INSERT")
  Позиция: 117
Location   : db/migration/V2__insert_tables.sql (E:\Учеба\Курсы\demo1\api\target\classes\db\migration\V2__insert_tables.sql)
Line       : 9
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-03-23T10:05:24.011+03:00  INFO 18812 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T10:05:24.048+03:00  INFO 18812 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T10:05:24.050+03:00  INFO 18812 --- [demo1] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-03-23T10:05:24.057+03:00  INFO 18812 --- [demo1] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-23T10:05:24.069+03:00 ERROR 18812 --- [demo1] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V2__insert_tables.sql failed
-----------------------------------
SQL State  : 42601
Error Code : 0
Message    : ОШИБКА: ошибка синтаксиса (примерное положение: "INSERT")
  Позиция: 117
Location   : db/migration/V2__insert_tables.sql (E:\Учеба\Курсы\demo1\api\target\classes\db\migration\V2__insert_tables.sql)
Line       : 9
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.3.jar:3.4.3]
	at com.example.config.SpringBootApplication.main(SpringBootApplication.java:13) ~[classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V2__insert_tables.sql failed
-----------------------------------
SQL State  : 42601
Error Code : 0
Message    : ОШИБКА: ошибка синтаксиса (примерное положение: "INSERT")
  Позиция: 117
Location   : db/migration/V2__insert_tables.sql (E:\Учеба\Курсы\demo1\api\target\classes\db\migration\V2__insert_tables.sql)
Line       : 9
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-6.2.3.jar:6.2.3]
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V2__insert_tables.sql failed
-----------------------------------
SQL State  : 42601
Error Code : 0
Message    : ОШИБКА: ошибка синтаксиса (примерное положение: "INSERT")
  Позиция: 117
Location   : db/migration/V2__insert_tables.sql (E:\Учеба\Курсы\demo1\api\target\classes\db\migration\V2__insert_tables.sql)
Line       : 9
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77) ~[flyway-database-postgresql-11.4.0.jar:na]
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60) ~[flyway-database-postgresql-11.4.0.jar:na]
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60) ~[flyway-database-postgresql-11.4.0.jar:na]
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105) ~[flyway-database-postgresql-11.4.0.jar:na]
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:240) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.core.Flyway.migrate(Flyway.java:186) ~[flyway-core-11.4.0.jar:na]
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-3.4.3.jar:3.4.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.3.jar:6.2.3]
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V2__insert_tables.sql failed
-----------------------------------
SQL State  : 42601
Error Code : 0
Message    : ОШИБКА: ошибка синтаксиса (примерное положение: "INSERT")
  Позиция: 117
Location   : db/migration/V2__insert_tables.sql (E:\Учеба\Курсы\demo1\api\target\classes\db\migration\V2__insert_tables.sql)
Line       : 9
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391) ~[flyway-core-11.4.0.jar:na]
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: ошибка синтаксиса (примерное положение: "INSERT")
  Позиция: 117
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:210) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212) ~[flyway-core-11.4.0.jar:na]
	... 42 common frames omitted

2025-03-23T10:05:48.485+03:00  INFO 9568 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 9568 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T10:05:48.487+03:00  INFO 9568 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T10:05:48.845+03:00  INFO 9568 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T10:05:48.888+03:00  INFO 9568 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 10 JPA repository interfaces.
2025-03-23T10:05:49.325+03:00  INFO 9568 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T10:05:49.334+03:00  INFO 9568 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T10:05:49.334+03:00  INFO 9568 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T10:05:49.375+03:00  INFO 9568 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T10:05:49.375+03:00  INFO 9568 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 847 ms
2025-03-23T10:05:49.539+03:00  INFO 9568 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T10:05:49.646+03:00  INFO 9568 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@781aff8b
2025-03-23T10:05:49.648+03:00  INFO 9568 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T10:05:49.665+03:00  INFO 9568 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T10:05:49.693+03:00  INFO 9568 --- [demo1] [main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table "public"."flyway_schema_history" does not exist yet
2025-03-23T10:05:49.695+03:00  INFO 9568 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.017s)
2025-03-23T10:05:49.704+03:00  INFO 9568 --- [demo1] [main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table "public"."flyway_schema_history" ...
2025-03-23T10:05:49.766+03:00  INFO 9568 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": << Empty Schema >>
2025-03-23T10:05:49.774+03:00  INFO 9568 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "public" to version "1 - create tables"
2025-03-23T10:05:49.818+03:00  INFO 9568 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "public" to version "2 - insert tables"
2025-03-23T10:05:49.835+03:00  INFO 9568 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Successfully applied 2 migrations to schema "public", now at version v2 (execution time 00:00.042s)
2025-03-23T10:05:49.887+03:00  INFO 9568 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T10:05:49.929+03:00  INFO 9568 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T10:05:49.953+03:00  INFO 9568 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T10:05:50.140+03:00  INFO 9568 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T10:05:50.477+03:00  WARN 9568 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:05:50.527+03:00  INFO 9568 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T10:05:50.534+03:00  WARN 9568 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:05:50.535+03:00  INFO 9568 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T10:05:50.536+03:00  WARN 9568 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:05:50.537+03:00  INFO 9568 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T10:05:50.537+03:00  WARN 9568 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:05:50.538+03:00  INFO 9568 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T10:05:50.538+03:00  WARN 9568 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:05:50.540+03:00  INFO 9568 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T10:05:50.540+03:00  WARN 9568 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:05:50.541+03:00  INFO 9568 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T10:05:50.541+03:00  WARN 9568 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:05:50.542+03:00  INFO 9568 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T10:05:50.542+03:00  WARN 9568 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:05:50.543+03:00  INFO 9568 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T10:05:50.544+03:00  WARN 9568 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:05:50.545+03:00  INFO 9568 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T10:05:50.545+03:00  WARN 9568 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:05:50.546+03:00  INFO 9568 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T10:05:51.012+03:00  INFO 9568 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T10:05:51.014+03:00  INFO 9568 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:05:51.225+03:00  INFO 9568 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T10:05:51.302+03:00  WARN 9568 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T10:05:51.318+03:00  INFO 9568 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T10:05:51.318+03:00  WARN 9568 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T10:05:51.478+03:00 DEBUG 9568 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T10:05:51.619+03:00  INFO 9568 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T10:05:51.624+03:00  INFO 9568 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 3.446 seconds (process running for 3.857)
2025-03-23T10:07:09.602+03:00  INFO 9568 --- [demo1] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T10:07:09.603+03:00  INFO 9568 --- [demo1] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T10:07:09.604+03:00  INFO 9568 --- [demo1] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-23T10:07:09.616+03:00 DEBUG 9568 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /listing
2025-03-23T10:07:10.070+03:00 DEBUG 9568 --- [demo1] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T10:07:10.070+03:00 DEBUG 9568 --- [demo1] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@28707550, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[User]]
2025-03-23T10:07:10.072+03:00 DEBUG 9568 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /listing
2025-03-23T10:07:10.111+03:00  INFO 9568 --- [demo1] [http-nio-8080-exec-1] com.example.impl.ListingImpl             : Get listing: [com.example.model.Listing@b9f469a, com.example.model.Listing@6a19edfc, com.example.model.Listing@25989df1, com.example.model.Listing@25520e2f, com.example.model.Listing@4361495e]
2025-03-23T10:07:10.115+03:00  INFO 9568 --- [demo1] [http-nio-8080-exec-1] com.example.impl.PromotionImpl           : Get all promotions: [com.example.model.Promotion@32cbaf3f, com.example.model.Promotion@50c5d81c, com.example.model.Promotion@21178b14, com.example.model.Promotion@424534bf, com.example.model.Promotion@4d48efb]
2025-03-23T10:07:10.120+03:00  INFO 9568 --- [demo1] [http-nio-8080-exec-1] com.example.impl.RatingImpl              : Get all ratings: [com.example.model.Rating@1b8af68a, com.example.model.Rating@2c67d665, com.example.model.Rating@7c583bcf, com.example.model.Rating@26004ec7, com.example.model.Rating@2d7c64d0, com.example.model.Rating@31ec88e4, com.example.model.Rating@3205c8c6, com.example.model.Rating@707925d4, com.example.model.Rating@67ffcffe, com.example.model.Rating@192a2a37, com.example.model.Rating@7ed6ce1a, com.example.model.Rating@36920db8, com.example.model.Rating@16427387, com.example.model.Rating@4747e22, com.example.model.Rating@4ccd4cbb]
2025-03-23T10:07:26.616+03:00  INFO 9568 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T10:07:26.620+03:00  INFO 9568 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T10:07:26.623+03:00  INFO 9568 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:07:26.625+03:00  INFO 9568 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T10:07:26.625+03:00  INFO 9568 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T10:07:26.625+03:00  INFO 9568 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T10:07:26.626+03:00  INFO 9568 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T10:07:26.626+03:00  INFO 9568 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T10:07:26.626+03:00  INFO 9568 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T10:07:26.626+03:00  INFO 9568 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T10:07:26.626+03:00  INFO 9568 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T10:07:26.626+03:00  INFO 9568 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T10:07:26.626+03:00  INFO 9568 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T10:07:26.629+03:00  INFO 9568 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T10:07:26.631+03:00  INFO 9568 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T10:08:37.576+03:00  INFO 22476 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 22476 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T10:08:37.578+03:00  INFO 22476 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T10:08:37.935+03:00  INFO 22476 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T10:08:37.977+03:00  INFO 22476 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 10 JPA repository interfaces.
2025-03-23T10:08:38.416+03:00  INFO 22476 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T10:08:38.425+03:00  INFO 22476 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T10:08:38.426+03:00  INFO 22476 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T10:08:38.463+03:00  INFO 22476 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T10:08:38.463+03:00  INFO 22476 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 846 ms
2025-03-23T10:08:38.631+03:00  INFO 22476 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T10:08:38.738+03:00  INFO 22476 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6e1ae763
2025-03-23T10:08:38.739+03:00  INFO 22476 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T10:08:38.757+03:00  INFO 22476 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T10:08:38.787+03:00  INFO 22476 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.018s)
2025-03-23T10:08:38.832+03:00  INFO 22476 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T10:08:38.834+03:00  INFO 22476 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T10:08:38.892+03:00  INFO 22476 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T10:08:38.934+03:00  INFO 22476 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T10:08:38.959+03:00  INFO 22476 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T10:08:39.143+03:00  INFO 22476 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T10:08:39.484+03:00  WARN 22476 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:08:39.534+03:00  INFO 22476 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T10:08:39.540+03:00  WARN 22476 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:08:39.542+03:00  INFO 22476 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T10:08:39.542+03:00  WARN 22476 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:08:39.543+03:00  INFO 22476 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T10:08:39.543+03:00  WARN 22476 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:08:39.545+03:00  INFO 22476 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T10:08:39.545+03:00  WARN 22476 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:08:39.546+03:00  INFO 22476 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T10:08:39.546+03:00  WARN 22476 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:08:39.547+03:00  INFO 22476 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T10:08:39.548+03:00  WARN 22476 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:08:39.549+03:00  INFO 22476 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T10:08:39.549+03:00  WARN 22476 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:08:39.550+03:00  INFO 22476 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T10:08:39.551+03:00  WARN 22476 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:08:39.552+03:00  INFO 22476 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T10:08:39.553+03:00  WARN 22476 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:08:39.554+03:00  INFO 22476 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T10:08:40.026+03:00  INFO 22476 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T10:08:40.028+03:00  INFO 22476 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:08:40.238+03:00  INFO 22476 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T10:08:40.316+03:00  WARN 22476 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T10:08:40.332+03:00  INFO 22476 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T10:08:40.332+03:00  WARN 22476 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T10:08:40.486+03:00 DEBUG 22476 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T10:08:40.626+03:00  INFO 22476 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T10:08:40.631+03:00  INFO 22476 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 3.35 seconds (process running for 3.745)
2025-03-23T10:08:51.683+03:00  INFO 22476 --- [demo1] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T10:08:51.683+03:00  INFO 22476 --- [demo1] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T10:08:51.684+03:00  INFO 22476 --- [demo1] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-23T10:08:51.697+03:00 DEBUG 22476 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /saleHistory
2025-03-23T10:08:52.147+03:00 DEBUG 22476 --- [demo1] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T10:08:52.148+03:00 DEBUG 22476 --- [demo1] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@6e8f565, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[User]]
2025-03-23T10:08:52.150+03:00 DEBUG 22476 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /saleHistory
2025-03-23T10:08:52.207+03:00  INFO 22476 --- [demo1] [http-nio-8080-exec-1] com.example.impl.SaleHistoryImpl         : Get all saleHistory: []
2025-03-23T10:08:52.228+03:00  INFO 22476 --- [demo1] [http-nio-8080-exec-1] com.example.impl.ListingImpl             : Get listing: [com.example.model.Listing@20034b58, com.example.model.Listing@430759de, com.example.model.Listing@1080640f, com.example.model.Listing@5ee84ceb, com.example.model.Listing@59454d9d]
2025-03-23T10:09:07.225+03:00 DEBUG 22476 --- [demo1] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /saleHistory/1
2025-03-23T10:09:07.470+03:00 DEBUG 22476 --- [demo1] [http-nio-8080-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T10:09:07.470+03:00 DEBUG 22476 --- [demo1] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@75407d79, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[User]]
2025-03-23T10:09:07.470+03:00 DEBUG 22476 --- [demo1] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /saleHistory/1
2025-03-23T10:09:07.480+03:00  INFO 22476 --- [demo1] [http-nio-8080-exec-3] com.example.impl.UserImpl                : Get user: com.example.model.User@13da7aa9
2025-03-23T10:09:07.482+03:00  INFO 22476 --- [demo1] [http-nio-8080-exec-3] com.example.impl.SaleHistoryImpl         : Get all saleHistory: [1, 3, 5, 4]
2025-03-23T10:09:07.489+03:00  INFO 22476 --- [demo1] [http-nio-8080-exec-3] com.example.impl.ListingImpl             : Get listing: [com.example.model.Listing@6185eb13, com.example.model.Listing@4cc44bb5, com.example.model.Listing@fe85848, com.example.model.Listing@69a66f88, com.example.model.Listing@4c7db435]
2025-03-23T10:09:16.277+03:00 DEBUG 22476 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /saleHistory/2
2025-03-23T10:09:16.525+03:00 DEBUG 22476 --- [demo1] [http-nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T10:09:16.525+03:00 DEBUG 22476 --- [demo1] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@6c2ee6e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[User]]
2025-03-23T10:09:16.526+03:00 DEBUG 22476 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /saleHistory/2
2025-03-23T10:09:16.529+03:00  INFO 22476 --- [demo1] [http-nio-8080-exec-4] com.example.impl.UserImpl                : Get user: com.example.model.User@ab65448
2025-03-23T10:09:16.531+03:00  INFO 22476 --- [demo1] [http-nio-8080-exec-4] com.example.impl.SaleHistoryImpl         : Get all saleHistory: [2]
2025-03-23T10:09:16.537+03:00  INFO 22476 --- [demo1] [http-nio-8080-exec-4] com.example.impl.ListingImpl             : Get listing: [com.example.model.Listing@6b8ceb94, com.example.model.Listing@29aa69a8, com.example.model.Listing@2b2ebf40, com.example.model.Listing@201a531e, com.example.model.Listing@51132b19]
2025-03-23T10:11:44.767+03:00  INFO 22476 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T10:11:44.770+03:00  INFO 22476 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T10:11:44.774+03:00  INFO 22476 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:11:44.776+03:00  INFO 22476 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T10:11:44.776+03:00  INFO 22476 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T10:11:44.776+03:00  INFO 22476 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T10:11:44.776+03:00  INFO 22476 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T10:11:44.776+03:00  INFO 22476 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T10:11:44.776+03:00  INFO 22476 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T10:11:44.777+03:00  INFO 22476 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T10:11:44.777+03:00  INFO 22476 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T10:11:44.777+03:00  INFO 22476 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T10:11:44.777+03:00  INFO 22476 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T10:11:44.780+03:00  INFO 22476 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T10:11:44.782+03:00  INFO 22476 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T10:17:54.409+03:00  INFO 20772 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 20772 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T10:17:54.411+03:00  INFO 20772 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T10:17:54.781+03:00  INFO 20772 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T10:17:54.825+03:00  INFO 20772 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 10 JPA repository interfaces.
2025-03-23T10:17:55.267+03:00  INFO 20772 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T10:17:55.277+03:00  INFO 20772 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T10:17:55.277+03:00  INFO 20772 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T10:17:55.319+03:00  INFO 20772 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T10:17:55.319+03:00  INFO 20772 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 867 ms
2025-03-23T10:17:55.486+03:00  INFO 20772 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T10:17:55.593+03:00  INFO 20772 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@35e98af
2025-03-23T10:17:55.594+03:00  INFO 20772 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T10:17:55.612+03:00  INFO 20772 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T10:17:55.645+03:00  INFO 20772 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.019s)
2025-03-23T10:17:55.690+03:00  INFO 20772 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T10:17:55.692+03:00  INFO 20772 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T10:17:55.749+03:00  INFO 20772 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T10:17:55.793+03:00  INFO 20772 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T10:17:55.817+03:00  INFO 20772 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T10:17:56.008+03:00  INFO 20772 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T10:17:56.353+03:00  WARN 20772 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:17:56.399+03:00  INFO 20772 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T10:17:56.405+03:00  WARN 20772 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:17:56.407+03:00  INFO 20772 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T10:17:56.407+03:00  WARN 20772 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:17:56.408+03:00  INFO 20772 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T10:17:56.409+03:00  WARN 20772 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:17:56.410+03:00  INFO 20772 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T10:17:56.410+03:00  WARN 20772 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:17:56.411+03:00  INFO 20772 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T10:17:56.412+03:00  WARN 20772 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:17:56.413+03:00  INFO 20772 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T10:17:56.413+03:00  WARN 20772 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:17:56.414+03:00  INFO 20772 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T10:17:56.414+03:00  WARN 20772 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:17:56.415+03:00  INFO 20772 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T10:17:56.415+03:00  WARN 20772 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:17:56.416+03:00  INFO 20772 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T10:17:56.417+03:00  WARN 20772 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:17:56.418+03:00  INFO 20772 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T10:17:56.904+03:00  INFO 20772 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T10:17:56.906+03:00  INFO 20772 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:17:57.128+03:00  INFO 20772 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T10:17:57.206+03:00  WARN 20772 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T10:17:57.224+03:00  INFO 20772 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T10:17:57.224+03:00  WARN 20772 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T10:17:57.384+03:00 DEBUG 20772 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T10:17:57.520+03:00  INFO 20772 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T10:17:57.525+03:00  INFO 20772 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 3.41 seconds (process running for 3.81)
2025-03-23T10:19:03.628+03:00  INFO 20772 --- [demo1] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T10:19:03.628+03:00  INFO 20772 --- [demo1] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T10:19:03.629+03:00  INFO 20772 --- [demo1] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-23T10:19:03.641+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /profile/3
2025-03-23T10:19:04.093+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T10:19:04.094+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@35ebdcb7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[User]]
2025-03-23T10:19:04.096+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured PUT /profile/3
2025-03-23T10:19:25.327+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing PUT /profile/3
2025-03-23T10:19:25.577+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T10:19:25.577+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@5538ac71, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[User]]
2025-03-23T10:19:25.577+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured PUT /profile/3
2025-03-23T10:19:25.600+03:00  INFO 20772 --- [demo1] [http-nio-8080-exec-4] com.example.impl.UserImpl                : Get user: com.example.model.User@4e6172c7
2025-03-23T10:19:25.689+03:00  INFO 20772 --- [demo1] [http-nio-8080-exec-4] com.example.impl.UserImpl                : Updating user: UserDto(id=3, username=newuser23456ss22, email=newuser@example.com, phone=+375291680734, roleId=1, passwordHash=$2a$10$oIWFROQx0WOHu0.ka1dkteB0VNww4SqCCnmdfd2kam5t3I63dvIfe)
2025-03-23T10:19:44.711+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing PUT /profile
2025-03-23T10:19:44.774+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-5] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user 'alice_smith'
2025-03-23T10:19:44.774+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Failed to process authentication request

org.springframework.security.authentication.BadCredentialsException: Bad credentials
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:141) ~[spring-security-core-6.4.3.jar:6.4.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.4.3.jar:6.4.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:187) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]

2025-03-23T10:19:44.777+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-03-23T10:19:44.777+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@7ef3c14a
2025-03-23T10:19:44.780+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-03-23T10:19:44.781+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-23T10:19:44.790+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session
2025-03-23T10:19:44.790+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-03-23T10:19:44.790+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@7ef3c14a
2025-03-23T10:20:20.699+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing PUT /profile
2025-03-23T10:20:20.762+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user 'alice_smith'
2025-03-23T10:20:20.762+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Failed to process authentication request

org.springframework.security.authentication.BadCredentialsException: Bad credentials
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:141) ~[spring-security-core-6.4.3.jar:6.4.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.4.3.jar:6.4.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:187) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]

2025-03-23T10:20:20.763+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-03-23T10:20:20.763+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@7ef3c14a
2025-03-23T10:20:20.763+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-03-23T10:20:20.764+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-23T10:20:20.764+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session
2025-03-23T10:20:20.765+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-03-23T10:20:20.765+03:00 DEBUG 20772 --- [demo1] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@7ef3c14a
2025-03-23T10:22:08.297+03:00  INFO 20772 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T10:22:08.300+03:00  INFO 20772 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T10:22:08.304+03:00  INFO 20772 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:22:08.306+03:00  INFO 20772 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T10:22:08.306+03:00  INFO 20772 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T10:22:08.306+03:00  INFO 20772 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T10:22:08.306+03:00  INFO 20772 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T10:22:08.306+03:00  INFO 20772 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T10:22:08.306+03:00  INFO 20772 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T10:22:08.307+03:00  INFO 20772 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T10:22:08.307+03:00  INFO 20772 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T10:22:08.307+03:00  INFO 20772 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T10:22:08.307+03:00  INFO 20772 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T10:22:08.310+03:00  INFO 20772 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T10:22:08.312+03:00  INFO 20772 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T10:22:11.614+03:00  INFO 23176 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 23176 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T10:22:11.616+03:00  INFO 23176 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T10:22:11.999+03:00  INFO 23176 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T10:22:12.047+03:00  INFO 23176 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 10 JPA repository interfaces.
2025-03-23T10:22:12.539+03:00  INFO 23176 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T10:22:12.550+03:00  INFO 23176 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T10:22:12.550+03:00  INFO 23176 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T10:22:12.590+03:00  INFO 23176 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T10:22:12.590+03:00  INFO 23176 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 934 ms
2025-03-23T10:22:12.766+03:00  INFO 23176 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T10:22:12.881+03:00  INFO 23176 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6c6c2a73
2025-03-23T10:22:12.882+03:00  INFO 23176 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T10:22:12.899+03:00  INFO 23176 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T10:22:12.933+03:00  INFO 23176 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.020s)
2025-03-23T10:22:13.090+03:00  INFO 23176 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T10:22:13.092+03:00  INFO 23176 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T10:22:13.146+03:00  INFO 23176 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T10:22:13.189+03:00  INFO 23176 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T10:22:13.215+03:00  INFO 23176 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T10:22:13.423+03:00  INFO 23176 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T10:22:13.800+03:00  WARN 23176 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:22:13.860+03:00  INFO 23176 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T10:22:13.867+03:00  WARN 23176 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:22:13.869+03:00  INFO 23176 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T10:22:13.869+03:00  WARN 23176 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:22:13.871+03:00  INFO 23176 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T10:22:13.871+03:00  WARN 23176 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:22:13.872+03:00  INFO 23176 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T10:22:13.872+03:00  WARN 23176 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:22:13.874+03:00  INFO 23176 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T10:22:13.874+03:00  WARN 23176 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:22:13.875+03:00  INFO 23176 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T10:22:13.875+03:00  WARN 23176 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:22:13.876+03:00  INFO 23176 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T10:22:13.877+03:00  WARN 23176 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:22:13.878+03:00  INFO 23176 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T10:22:13.878+03:00  WARN 23176 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:22:13.879+03:00  INFO 23176 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T10:22:13.880+03:00  WARN 23176 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:22:13.881+03:00  INFO 23176 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T10:22:14.385+03:00  INFO 23176 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T10:22:14.387+03:00  INFO 23176 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:22:14.615+03:00  INFO 23176 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T10:22:14.711+03:00  WARN 23176 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T10:22:14.729+03:00  INFO 23176 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T10:22:14.729+03:00  WARN 23176 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T10:22:14.914+03:00 DEBUG 23176 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T10:22:15.064+03:00  INFO 23176 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T10:22:15.070+03:00  INFO 23176 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 3.768 seconds (process running for 4.626)
2025-03-23T10:22:18.895+03:00  INFO 23176 --- [demo1] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T10:22:18.895+03:00  INFO 23176 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T10:22:18.896+03:00  INFO 23176 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-23T10:22:18.913+03:00 DEBUG 23176 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing PUT /profile
2025-03-23T10:22:19.161+03:00 DEBUG 23176 --- [demo1] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user 'alice_smith'
2025-03-23T10:22:19.162+03:00 DEBUG 23176 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Failed to process authentication request

org.springframework.security.authentication.BadCredentialsException: Bad credentials
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:141) ~[spring-security-core-6.4.3.jar:6.4.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.4.3.jar:6.4.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:187) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]

2025-03-23T10:22:19.165+03:00 DEBUG 23176 --- [demo1] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-03-23T10:22:19.165+03:00 DEBUG 23176 --- [demo1] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@37c4c939
2025-03-23T10:22:19.172+03:00 DEBUG 23176 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-03-23T10:22:19.173+03:00 DEBUG 23176 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-23T10:22:19.186+03:00 DEBUG 23176 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session
2025-03-23T10:22:19.186+03:00 DEBUG 23176 --- [demo1] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-03-23T10:22:19.187+03:00 DEBUG 23176 --- [demo1] [http-nio-8080-exec-2] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@37c4c939
2025-03-23T10:22:39.667+03:00  INFO 23176 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T10:22:39.670+03:00  INFO 23176 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T10:22:39.674+03:00  INFO 23176 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:22:39.676+03:00  INFO 23176 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T10:22:39.677+03:00  INFO 23176 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T10:22:39.677+03:00  INFO 23176 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T10:22:39.677+03:00  INFO 23176 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T10:22:39.677+03:00  INFO 23176 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T10:22:39.677+03:00  INFO 23176 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T10:22:39.677+03:00  INFO 23176 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T10:22:39.678+03:00  INFO 23176 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T10:22:39.678+03:00  INFO 23176 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T10:22:39.678+03:00  INFO 23176 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T10:22:39.682+03:00  INFO 23176 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T10:22:39.684+03:00  INFO 23176 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T10:22:41.504+03:00  INFO 10204 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 10204 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T10:22:41.506+03:00  INFO 10204 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T10:22:41.874+03:00  INFO 10204 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T10:22:41.920+03:00  INFO 10204 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 10 JPA repository interfaces.
2025-03-23T10:22:42.417+03:00  INFO 10204 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T10:22:42.427+03:00  INFO 10204 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T10:22:42.427+03:00  INFO 10204 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T10:22:42.464+03:00  INFO 10204 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T10:22:42.465+03:00  INFO 10204 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 919 ms
2025-03-23T10:22:42.640+03:00  INFO 10204 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T10:22:42.754+03:00  INFO 10204 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@388f1258
2025-03-23T10:22:42.756+03:00  INFO 10204 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T10:22:42.773+03:00  INFO 10204 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T10:22:42.805+03:00  INFO 10204 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.019s)
2025-03-23T10:22:42.848+03:00  INFO 10204 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T10:22:42.851+03:00  INFO 10204 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T10:22:42.905+03:00  INFO 10204 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T10:22:42.949+03:00  INFO 10204 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T10:22:42.976+03:00  INFO 10204 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T10:22:43.178+03:00  INFO 10204 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T10:22:43.549+03:00  WARN 10204 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:22:43.608+03:00  INFO 10204 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T10:22:43.615+03:00  WARN 10204 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:22:43.617+03:00  INFO 10204 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T10:22:43.617+03:00  WARN 10204 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:22:43.618+03:00  INFO 10204 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T10:22:43.619+03:00  WARN 10204 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:22:43.620+03:00  INFO 10204 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T10:22:43.620+03:00  WARN 10204 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:22:43.622+03:00  INFO 10204 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T10:22:43.622+03:00  WARN 10204 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:22:43.623+03:00  INFO 10204 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T10:22:43.623+03:00  WARN 10204 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:22:43.624+03:00  INFO 10204 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T10:22:43.625+03:00  WARN 10204 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:22:43.626+03:00  INFO 10204 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T10:22:43.626+03:00  WARN 10204 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:22:43.628+03:00  INFO 10204 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T10:22:43.628+03:00  WARN 10204 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:22:43.630+03:00  INFO 10204 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T10:22:44.138+03:00  INFO 10204 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T10:22:44.141+03:00  INFO 10204 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:22:44.370+03:00  INFO 10204 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T10:22:44.464+03:00  WARN 10204 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T10:22:44.481+03:00  INFO 10204 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T10:22:44.481+03:00  WARN 10204 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T10:22:44.650+03:00 DEBUG 10204 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T10:22:44.823+03:00  INFO 10204 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T10:22:44.829+03:00  INFO 10204 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 3.689 seconds (process running for 4.318)
2025-03-23T10:22:59.238+03:00  INFO 10204 --- [demo1] [http-nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T10:22:59.238+03:00  INFO 10204 --- [demo1] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T10:22:59.239+03:00  INFO 10204 --- [demo1] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-23T10:22:59.252+03:00 DEBUG 10204 --- [demo1] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing PUT /profile
2025-03-23T10:22:59.541+03:00 DEBUG 10204 --- [demo1] [http-nio-8080-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T10:22:59.542+03:00 DEBUG 10204 --- [demo1] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@62cdce14, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[User]]
2025-03-23T10:22:59.544+03:00 DEBUG 10204 --- [demo1] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured PUT /profile
2025-03-23T10:23:10.689+03:00  INFO 10204 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T10:23:10.784+03:00  INFO 10204 --- [demo1] [http-nio-8080-exec-3] com.example.impl.UserImpl                : Updating user: UserDto(id=3, username=newuser23456ss232, email=newuser@example.com, phone=+375291680734, roleId=1, passwordHash=$2a$10$rfHZuYYTbtMdp.C8URYIhOBQc1oegkbungR4vn/h7V8lR7FDNKbT6)
2025-03-23T10:23:10.810+03:00  INFO 10204 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T10:23:10.815+03:00  INFO 10204 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:23:10.817+03:00  INFO 10204 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T10:23:10.817+03:00  INFO 10204 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T10:23:10.817+03:00  INFO 10204 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T10:23:10.818+03:00  INFO 10204 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T10:23:10.818+03:00  INFO 10204 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T10:23:10.818+03:00  INFO 10204 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T10:23:10.818+03:00  INFO 10204 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T10:23:10.818+03:00  INFO 10204 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T10:23:10.818+03:00  INFO 10204 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T10:23:10.818+03:00  INFO 10204 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T10:23:10.821+03:00  INFO 10204 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T10:23:10.823+03:00  INFO 10204 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T10:23:12.611+03:00  INFO 19332 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 19332 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T10:23:12.612+03:00  INFO 19332 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T10:23:13.009+03:00  INFO 19332 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T10:23:13.055+03:00  INFO 19332 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 10 JPA repository interfaces.
2025-03-23T10:23:13.553+03:00  INFO 19332 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T10:23:13.564+03:00  INFO 19332 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T10:23:13.564+03:00  INFO 19332 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T10:23:13.601+03:00  INFO 19332 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T10:23:13.602+03:00  INFO 19332 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 951 ms
2025-03-23T10:23:13.781+03:00  INFO 19332 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T10:23:14.011+03:00  INFO 19332 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@76828577
2025-03-23T10:23:14.012+03:00  INFO 19332 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T10:23:14.032+03:00  INFO 19332 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T10:23:14.066+03:00  INFO 19332 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.021s)
2025-03-23T10:23:14.120+03:00  INFO 19332 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T10:23:14.123+03:00  INFO 19332 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T10:23:14.184+03:00  INFO 19332 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T10:23:14.229+03:00  INFO 19332 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T10:23:14.259+03:00  INFO 19332 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T10:23:14.470+03:00  INFO 19332 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T10:23:14.855+03:00  WARN 19332 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:23:14.918+03:00  INFO 19332 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T10:23:14.925+03:00  WARN 19332 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:23:14.927+03:00  INFO 19332 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T10:23:14.927+03:00  WARN 19332 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:23:14.929+03:00  INFO 19332 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T10:23:14.929+03:00  WARN 19332 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:23:14.930+03:00  INFO 19332 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T10:23:14.931+03:00  WARN 19332 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:23:14.932+03:00  INFO 19332 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T10:23:14.932+03:00  WARN 19332 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:23:14.933+03:00  INFO 19332 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T10:23:14.933+03:00  WARN 19332 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:23:14.935+03:00  INFO 19332 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T10:23:14.935+03:00  WARN 19332 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:23:14.936+03:00  INFO 19332 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T10:23:14.936+03:00  WARN 19332 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:23:14.937+03:00  INFO 19332 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T10:23:14.938+03:00  WARN 19332 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:23:14.939+03:00  INFO 19332 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T10:23:15.441+03:00  INFO 19332 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T10:23:15.443+03:00  INFO 19332 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:23:15.668+03:00  INFO 19332 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T10:23:15.758+03:00  WARN 19332 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T10:23:15.775+03:00  INFO 19332 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T10:23:15.775+03:00  WARN 19332 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T10:23:15.945+03:00 DEBUG 19332 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T10:23:16.109+03:00  INFO 19332 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T10:23:16.114+03:00  INFO 19332 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 3.839 seconds (process running for 4.451)
2025-03-23T10:23:31.272+03:00  INFO 19332 --- [demo1] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T10:23:31.272+03:00  INFO 19332 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T10:23:31.273+03:00  INFO 19332 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-23T10:23:31.290+03:00 DEBUG 19332 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing PUT /profile/3
2025-03-23T10:23:31.572+03:00 DEBUG 19332 --- [demo1] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T10:23:31.573+03:00 DEBUG 19332 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@27f13f01, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[User]]
2025-03-23T10:23:31.575+03:00 DEBUG 19332 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured PUT /profile/3
2025-03-23T10:23:58.877+03:00  INFO 19332 --- [demo1] [http-nio-8080-exec-2] com.example.impl.UserImpl                : Get user: com.example.model.User@2e8171f0
2025-03-23T10:23:58.878+03:00  INFO 19332 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T10:23:58.973+03:00  INFO 19332 --- [demo1] [http-nio-8080-exec-2] com.example.impl.UserImpl                : Updating user: UserDto(id=3, username=newuser23456ss232, email=newuser@example.com, phone=+375291680734, roleId=1, passwordHash=$2a$10$l5SRjHi24zMwxVAQiU3XBeJr02BTk0wRWI5pnRoclGmKnDgCwUmhq)
2025-03-23T10:23:59.001+03:00  INFO 19332 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T10:23:59.005+03:00  INFO 19332 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:23:59.007+03:00  INFO 19332 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T10:23:59.007+03:00  INFO 19332 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T10:23:59.008+03:00  INFO 19332 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T10:23:59.008+03:00  INFO 19332 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T10:23:59.008+03:00  INFO 19332 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T10:23:59.008+03:00  INFO 19332 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T10:23:59.008+03:00  INFO 19332 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T10:23:59.008+03:00  INFO 19332 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T10:23:59.009+03:00  INFO 19332 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T10:23:59.009+03:00  INFO 19332 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T10:23:59.012+03:00  INFO 19332 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T10:23:59.014+03:00  INFO 19332 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T10:24:56.631+03:00  INFO 20616 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 20616 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T10:24:56.633+03:00  INFO 20616 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T10:24:57.016+03:00  INFO 20616 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T10:24:57.068+03:00  INFO 20616 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 10 JPA repository interfaces.
2025-03-23T10:24:57.559+03:00  INFO 20616 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T10:24:57.569+03:00  INFO 20616 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T10:24:57.570+03:00  INFO 20616 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T10:24:57.607+03:00  INFO 20616 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T10:24:57.607+03:00  INFO 20616 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 934 ms
2025-03-23T10:24:57.783+03:00  INFO 20616 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T10:24:57.898+03:00  INFO 20616 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@38732372
2025-03-23T10:24:57.899+03:00  INFO 20616 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T10:24:57.917+03:00  INFO 20616 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T10:24:57.949+03:00  INFO 20616 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.019s)
2025-03-23T10:24:57.995+03:00  INFO 20616 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T10:24:57.997+03:00  INFO 20616 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T10:24:58.051+03:00  INFO 20616 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T10:24:58.094+03:00  INFO 20616 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T10:24:58.119+03:00  INFO 20616 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T10:24:58.324+03:00  INFO 20616 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T10:24:58.700+03:00  WARN 20616 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:24:58.758+03:00  INFO 20616 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T10:24:58.766+03:00  WARN 20616 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:24:58.767+03:00  INFO 20616 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T10:24:58.768+03:00  WARN 20616 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:24:58.769+03:00  INFO 20616 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T10:24:58.769+03:00  WARN 20616 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:24:58.770+03:00  INFO 20616 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T10:24:58.771+03:00  WARN 20616 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:24:58.772+03:00  INFO 20616 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T10:24:58.772+03:00  WARN 20616 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:24:58.773+03:00  INFO 20616 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T10:24:58.774+03:00  WARN 20616 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:24:58.775+03:00  INFO 20616 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T10:24:58.775+03:00  WARN 20616 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:24:58.776+03:00  INFO 20616 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T10:24:58.776+03:00  WARN 20616 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:24:58.777+03:00  INFO 20616 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T10:24:58.778+03:00  WARN 20616 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:24:58.779+03:00  INFO 20616 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T10:24:59.287+03:00  INFO 20616 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T10:24:59.289+03:00  INFO 20616 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:24:59.517+03:00  INFO 20616 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T10:24:59.606+03:00  WARN 20616 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T10:24:59.623+03:00  INFO 20616 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T10:24:59.623+03:00  WARN 20616 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T10:24:59.793+03:00 DEBUG 20616 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T10:24:59.943+03:00  INFO 20616 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T10:24:59.948+03:00  INFO 20616 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 3.641 seconds (process running for 4.315)
2025-03-23T10:25:03.889+03:00  INFO 20616 --- [demo1] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T10:25:03.890+03:00  INFO 20616 --- [demo1] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T10:25:03.891+03:00  INFO 20616 --- [demo1] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-03-23T10:25:03.907+03:00 DEBUG 20616 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /profile/3
2025-03-23T10:25:04.197+03:00 DEBUG 20616 --- [demo1] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T10:25:04.198+03:00 DEBUG 20616 --- [demo1] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@4736a34e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[User]]
2025-03-23T10:25:04.200+03:00 DEBUG 20616 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured PUT /profile/3
2025-03-23T10:25:55.618+03:00  WARN 20616 --- [demo1] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=57s618ms13µs600ns).
2025-03-23T10:25:55.655+03:00  INFO 20616 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T10:25:55.713+03:00  INFO 20616 --- [demo1] [http-nio-8080-exec-1] com.example.impl.UserImpl                : Get user: com.example.model.User@4395ac0e
2025-03-23T10:25:57.099+03:00  INFO 20616 --- [demo1] [http-nio-8080-exec-1] com.example.impl.UserImpl                : Updating user: UserDto(id=3, username=newuser23456ss232, email=newuser@example.com, phone=+375291680734, roleId=1, passwordHash=$2a$10$PsTBDqiWopW0Udk5F9l7X.65F/rW.lwKdOLYKlGYkiJBIiPMPMSBS)
2025-03-23T10:25:57.115+03:00  INFO 20616 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T10:25:57.119+03:00  INFO 20616 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:25:57.122+03:00  INFO 20616 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T10:25:57.122+03:00  INFO 20616 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T10:25:57.122+03:00  INFO 20616 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T10:25:57.122+03:00  INFO 20616 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T10:25:57.122+03:00  INFO 20616 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T10:25:57.122+03:00  INFO 20616 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T10:25:57.123+03:00  INFO 20616 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T10:25:57.123+03:00  INFO 20616 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T10:25:57.123+03:00  INFO 20616 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T10:25:57.123+03:00  INFO 20616 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T10:25:57.127+03:00  INFO 20616 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T10:25:57.129+03:00  INFO 20616 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T10:26:01.564+03:00  INFO 10284 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 10284 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T10:26:01.566+03:00  INFO 10284 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T10:26:01.957+03:00  INFO 10284 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T10:26:02.004+03:00  INFO 10284 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 10 JPA repository interfaces.
2025-03-23T10:26:02.516+03:00  INFO 10284 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T10:26:02.527+03:00  INFO 10284 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T10:26:02.527+03:00  INFO 10284 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T10:26:02.567+03:00  INFO 10284 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T10:26:02.567+03:00  INFO 10284 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 959 ms
2025-03-23T10:26:02.757+03:00  INFO 10284 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T10:26:02.877+03:00  INFO 10284 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@62058742
2025-03-23T10:26:02.879+03:00  INFO 10284 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T10:26:02.898+03:00  INFO 10284 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T10:26:02.934+03:00  INFO 10284 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.022s)
2025-03-23T10:26:02.980+03:00  INFO 10284 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T10:26:02.982+03:00  INFO 10284 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T10:26:03.040+03:00  INFO 10284 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T10:26:03.085+03:00  INFO 10284 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T10:26:03.111+03:00  INFO 10284 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T10:26:03.314+03:00  INFO 10284 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T10:26:03.688+03:00  WARN 10284 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:26:03.747+03:00  INFO 10284 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T10:26:03.754+03:00  WARN 10284 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:26:03.756+03:00  INFO 10284 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T10:26:03.756+03:00  WARN 10284 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:26:03.757+03:00  INFO 10284 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T10:26:03.757+03:00  WARN 10284 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:26:03.759+03:00  INFO 10284 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T10:26:03.759+03:00  WARN 10284 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:26:03.760+03:00  INFO 10284 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T10:26:03.760+03:00  WARN 10284 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:26:03.761+03:00  INFO 10284 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T10:26:03.762+03:00  WARN 10284 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:26:03.763+03:00  INFO 10284 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T10:26:03.763+03:00  WARN 10284 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:26:03.764+03:00  INFO 10284 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T10:26:03.764+03:00  WARN 10284 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:26:03.766+03:00  INFO 10284 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T10:26:03.766+03:00  WARN 10284 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:26:03.767+03:00  INFO 10284 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T10:26:04.270+03:00  INFO 10284 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T10:26:04.272+03:00  INFO 10284 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:26:04.497+03:00  INFO 10284 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T10:26:04.588+03:00  WARN 10284 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T10:26:04.606+03:00  INFO 10284 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T10:26:04.606+03:00  WARN 10284 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T10:26:04.773+03:00 DEBUG 10284 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T10:26:04.924+03:00  INFO 10284 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T10:26:04.929+03:00  INFO 10284 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 3.713 seconds (process running for 4.27)
2025-03-23T10:26:10.559+03:00  INFO 10284 --- [demo1] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T10:26:10.560+03:00  INFO 10284 --- [demo1] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T10:26:10.561+03:00  INFO 10284 --- [demo1] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-23T10:26:10.574+03:00 DEBUG 10284 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /profile/3
2025-03-23T10:26:10.851+03:00 DEBUG 10284 --- [demo1] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T10:26:10.852+03:00 DEBUG 10284 --- [demo1] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@230b1980, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[User]]
2025-03-23T10:26:10.854+03:00 DEBUG 10284 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured PUT /profile/3
2025-03-23T10:26:53.834+03:00  WARN 10284 --- [demo1] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=50s840ms709µs300ns).
2025-03-23T10:26:53.863+03:00  INFO 10284 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T10:26:53.927+03:00  INFO 10284 --- [demo1] [http-nio-8080-exec-1] com.example.impl.UserImpl                : Get user: com.example.model.User@69f2175c
2025-03-23T10:26:55.345+03:00  INFO 10284 --- [demo1] [http-nio-8080-exec-1] com.example.impl.UserImpl                : Updating user: UserDto(id=3, username=newuser23456ss232, email=newuser@example.com, phone=+375291680734, roleId=1, passwordHash=$2a$10$5AHHiwuK1yRguicmVF8uZek8AecVU.j6Fims.l.HN4sswLLrRgIuS)
2025-03-23T10:26:55.420+03:00  INFO 10284 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T10:26:55.424+03:00  INFO 10284 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:26:55.426+03:00  INFO 10284 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T10:26:55.426+03:00  INFO 10284 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T10:26:55.426+03:00  INFO 10284 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T10:26:55.426+03:00  INFO 10284 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T10:26:55.427+03:00  INFO 10284 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T10:26:55.427+03:00  INFO 10284 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T10:26:55.427+03:00  INFO 10284 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T10:26:55.427+03:00  INFO 10284 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T10:26:55.427+03:00  INFO 10284 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T10:26:55.427+03:00  INFO 10284 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T10:26:55.430+03:00  INFO 10284 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T10:26:55.433+03:00  INFO 10284 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T10:30:01.197+03:00  INFO 4128 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 4128 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T10:30:01.199+03:00  INFO 4128 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T10:30:01.585+03:00  INFO 4128 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T10:30:01.629+03:00  INFO 4128 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 10 JPA repository interfaces.
2025-03-23T10:30:02.088+03:00  INFO 4128 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T10:30:02.097+03:00  INFO 4128 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T10:30:02.097+03:00  INFO 4128 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T10:30:02.138+03:00  INFO 4128 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T10:30:02.139+03:00  INFO 4128 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 898 ms
2025-03-23T10:30:02.310+03:00  INFO 4128 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T10:30:02.527+03:00  INFO 4128 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@56fda064
2025-03-23T10:30:02.529+03:00  INFO 4128 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T10:30:02.548+03:00  INFO 4128 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T10:30:02.581+03:00  INFO 4128 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.020s)
2025-03-23T10:30:02.627+03:00  INFO 4128 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T10:30:02.629+03:00  INFO 4128 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T10:30:02.684+03:00  INFO 4128 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T10:30:02.729+03:00  INFO 4128 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T10:30:02.756+03:00  INFO 4128 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T10:30:02.954+03:00  INFO 4128 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T10:30:03.310+03:00  WARN 4128 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:30:03.359+03:00  INFO 4128 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T10:30:03.365+03:00  WARN 4128 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:30:03.370+03:00  INFO 4128 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T10:30:03.370+03:00  WARN 4128 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:30:03.371+03:00  INFO 4128 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T10:30:03.372+03:00  WARN 4128 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:30:03.373+03:00  INFO 4128 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T10:30:03.374+03:00  WARN 4128 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:30:03.375+03:00  INFO 4128 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T10:30:03.375+03:00  WARN 4128 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:30:03.376+03:00  INFO 4128 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T10:30:03.376+03:00  WARN 4128 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:30:03.377+03:00  INFO 4128 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T10:30:03.378+03:00  WARN 4128 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:30:03.379+03:00  INFO 4128 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T10:30:03.379+03:00  WARN 4128 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:30:03.380+03:00  INFO 4128 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T10:30:03.380+03:00  WARN 4128 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:30:03.381+03:00  INFO 4128 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T10:30:03.858+03:00  INFO 4128 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T10:30:03.860+03:00  INFO 4128 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:30:04.077+03:00  INFO 4128 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T10:30:04.160+03:00  WARN 4128 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T10:30:04.176+03:00  INFO 4128 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T10:30:04.176+03:00  WARN 4128 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T10:30:04.337+03:00 DEBUG 4128 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T10:30:04.480+03:00  INFO 4128 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T10:30:04.486+03:00  INFO 4128 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 3.599 seconds (process running for 4.002)
2025-03-23T10:30:28.226+03:00  INFO 4128 --- [demo1] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T10:30:28.227+03:00  INFO 4128 --- [demo1] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T10:30:28.227+03:00  INFO 4128 --- [demo1] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-03-23T10:30:28.240+03:00 DEBUG 4128 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /profile/3
2025-03-23T10:30:28.689+03:00 DEBUG 4128 --- [demo1] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T10:30:28.690+03:00 DEBUG 4128 --- [demo1] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@49106dff, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[User]]
2025-03-23T10:30:28.691+03:00 DEBUG 4128 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured PUT /profile/3
2025-03-23T10:30:28.766+03:00  INFO 4128 --- [demo1] [http-nio-8080-exec-1] com.example.impl.UserImpl                : Get user: com.example.model.User@32567201
2025-03-23T10:30:28.862+03:00  INFO 4128 --- [demo1] [http-nio-8080-exec-1] com.example.impl.UserImpl                : Updating user: UserDto(id=3, username=newuser23456ss232, email=newuser@example.com, phone=+375291680734, roleId=1, passwordHash=$2a$10$iRXGHQzQSKSB24NHCsnwwOKx/ML4/4LuhwK4lwrFXMBY4JnekBvN6)
2025-03-23T10:30:36.975+03:00  INFO 4128 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T10:30:36.979+03:00  INFO 4128 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T10:30:36.983+03:00  INFO 4128 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:30:36.985+03:00  INFO 4128 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T10:30:36.985+03:00  INFO 4128 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T10:30:36.985+03:00  INFO 4128 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T10:30:36.985+03:00  INFO 4128 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T10:30:36.985+03:00  INFO 4128 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T10:30:36.985+03:00  INFO 4128 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T10:30:36.986+03:00  INFO 4128 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T10:30:36.986+03:00  INFO 4128 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T10:30:36.986+03:00  INFO 4128 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T10:30:36.986+03:00  INFO 4128 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T10:30:36.990+03:00  INFO 4128 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T10:30:36.992+03:00  INFO 4128 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T10:30:38.708+03:00  INFO 19524 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 19524 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T10:30:38.710+03:00  INFO 19524 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T10:30:39.075+03:00  INFO 19524 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T10:30:39.127+03:00  INFO 19524 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 10 JPA repository interfaces.
2025-03-23T10:30:39.630+03:00  INFO 19524 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T10:30:39.641+03:00  INFO 19524 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T10:30:39.641+03:00  INFO 19524 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T10:30:39.679+03:00  INFO 19524 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T10:30:39.679+03:00  INFO 19524 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 930 ms
2025-03-23T10:30:39.857+03:00  INFO 19524 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T10:30:39.972+03:00  INFO 19524 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3d0352
2025-03-23T10:30:39.974+03:00  INFO 19524 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T10:30:39.993+03:00  INFO 19524 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T10:30:40.028+03:00  INFO 19524 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.021s)
2025-03-23T10:30:40.074+03:00  INFO 19524 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T10:30:40.076+03:00  INFO 19524 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T10:30:40.132+03:00  INFO 19524 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T10:30:40.176+03:00  INFO 19524 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T10:30:40.201+03:00  INFO 19524 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T10:30:40.409+03:00  INFO 19524 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T10:30:40.793+03:00  WARN 19524 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:30:40.852+03:00  INFO 19524 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T10:30:40.859+03:00  WARN 19524 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:30:40.861+03:00  INFO 19524 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T10:30:40.862+03:00  WARN 19524 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:30:40.863+03:00  INFO 19524 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T10:30:40.863+03:00  WARN 19524 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:30:40.864+03:00  INFO 19524 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T10:30:40.865+03:00  WARN 19524 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:30:40.866+03:00  INFO 19524 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T10:30:40.866+03:00  WARN 19524 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:30:40.867+03:00  INFO 19524 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T10:30:40.868+03:00  WARN 19524 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:30:40.869+03:00  INFO 19524 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T10:30:40.869+03:00  WARN 19524 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:30:40.870+03:00  INFO 19524 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T10:30:40.870+03:00  WARN 19524 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:30:40.872+03:00  INFO 19524 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T10:30:40.872+03:00  WARN 19524 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:30:40.873+03:00  INFO 19524 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T10:30:41.395+03:00  INFO 19524 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T10:30:41.397+03:00  INFO 19524 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:30:41.625+03:00  INFO 19524 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T10:30:41.721+03:00  WARN 19524 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T10:30:41.739+03:00  INFO 19524 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T10:30:41.739+03:00  WARN 19524 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T10:30:41.907+03:00 DEBUG 19524 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T10:30:42.066+03:00  INFO 19524 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T10:30:42.072+03:00  INFO 19524 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 3.691 seconds (process running for 4.297)
2025-03-23T10:30:47.779+03:00  INFO 19524 --- [demo1] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T10:30:47.779+03:00  INFO 19524 --- [demo1] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T10:30:47.780+03:00  INFO 19524 --- [demo1] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-23T10:30:47.794+03:00 DEBUG 19524 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /profile/3
2025-03-23T10:30:48.263+03:00 DEBUG 19524 --- [demo1] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T10:30:48.264+03:00 DEBUG 19524 --- [demo1] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@5666e088, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[User]]
2025-03-23T10:30:48.266+03:00 DEBUG 19524 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured PUT /profile/3
2025-03-23T10:30:58.644+03:00  INFO 19524 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T10:30:58.705+03:00  INFO 19524 --- [demo1] [http-nio-8080-exec-1] com.example.impl.UserImpl                : Get user: com.example.model.User@4cac14cb
2025-03-23T10:31:00.110+03:00  INFO 19524 --- [demo1] [http-nio-8080-exec-1] com.example.impl.UserImpl                : Updating user: UserDto(id=3, username=newuser23456ss232, email=newuser@example.com, phone=+375291680734, roleId=1, passwordHash=$2a$10$26IbT3wz2eKbFHJ5c/110OM6gjtZqaIlkUqO5lvnQO8WECk/hxwje)
2025-03-23T10:31:00.162+03:00  INFO 19524 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T10:31:00.166+03:00  INFO 19524 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:31:00.168+03:00  INFO 19524 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T10:31:00.168+03:00  INFO 19524 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T10:31:00.169+03:00  INFO 19524 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T10:31:00.169+03:00  INFO 19524 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T10:31:00.169+03:00  INFO 19524 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T10:31:00.169+03:00  INFO 19524 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T10:31:00.169+03:00  INFO 19524 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T10:31:00.170+03:00  INFO 19524 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T10:31:00.170+03:00  INFO 19524 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T10:31:00.170+03:00  INFO 19524 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T10:31:00.174+03:00  INFO 19524 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T10:31:00.177+03:00  INFO 19524 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T10:31:01.925+03:00  INFO 22332 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 22332 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T10:31:01.927+03:00  INFO 22332 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T10:31:02.310+03:00  INFO 22332 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T10:31:02.368+03:00  INFO 22332 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51 ms. Found 10 JPA repository interfaces.
2025-03-23T10:31:02.916+03:00  INFO 22332 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T10:31:02.927+03:00  INFO 22332 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T10:31:02.927+03:00  INFO 22332 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T10:31:02.967+03:00  INFO 22332 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T10:31:02.967+03:00  INFO 22332 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 999 ms
2025-03-23T10:31:03.148+03:00  INFO 22332 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T10:31:03.264+03:00  INFO 22332 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@710ae6a7
2025-03-23T10:31:03.266+03:00  INFO 22332 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T10:31:03.285+03:00  INFO 22332 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T10:31:03.323+03:00  INFO 22332 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.023s)
2025-03-23T10:31:03.369+03:00  INFO 22332 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T10:31:03.371+03:00  INFO 22332 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T10:31:03.429+03:00  INFO 22332 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T10:31:03.473+03:00  INFO 22332 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T10:31:03.499+03:00  INFO 22332 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T10:31:03.720+03:00  INFO 22332 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T10:31:04.103+03:00  WARN 22332 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:31:04.171+03:00  INFO 22332 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T10:31:04.181+03:00  WARN 22332 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:31:04.183+03:00  INFO 22332 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T10:31:04.183+03:00  WARN 22332 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:31:04.184+03:00  INFO 22332 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T10:31:04.185+03:00  WARN 22332 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:31:04.186+03:00  INFO 22332 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T10:31:04.187+03:00  WARN 22332 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:31:04.188+03:00  INFO 22332 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T10:31:04.189+03:00  WARN 22332 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:31:04.190+03:00  INFO 22332 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T10:31:04.190+03:00  WARN 22332 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:31:04.192+03:00  INFO 22332 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T10:31:04.192+03:00  WARN 22332 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:31:04.193+03:00  INFO 22332 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T10:31:04.194+03:00  WARN 22332 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:31:04.195+03:00  INFO 22332 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T10:31:04.195+03:00  WARN 22332 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:31:04.196+03:00  INFO 22332 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T10:31:04.761+03:00  INFO 22332 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T10:31:04.764+03:00  INFO 22332 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:31:04.995+03:00  INFO 22332 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T10:31:05.088+03:00  WARN 22332 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T10:31:05.107+03:00  INFO 22332 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T10:31:05.107+03:00  WARN 22332 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T10:31:05.282+03:00 DEBUG 22332 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T10:31:05.444+03:00  INFO 22332 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T10:31:05.450+03:00  INFO 22332 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 3.877 seconds (process running for 4.432)
2025-03-23T10:31:13.856+03:00  INFO 22332 --- [demo1] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T10:31:13.856+03:00  INFO 22332 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T10:31:13.857+03:00  INFO 22332 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-23T10:31:13.870+03:00 DEBUG 22332 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing PUT /profile/3
2025-03-23T10:31:14.334+03:00 DEBUG 22332 --- [demo1] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T10:31:14.334+03:00 DEBUG 22332 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@71aa7766, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[Admin]]
2025-03-23T10:31:14.336+03:00 DEBUG 22332 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured PUT /profile/3
2025-03-23T10:31:57.319+03:00  WARN 22332 --- [demo1] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=53s945ms601µs900ns).
2025-03-23T10:31:57.348+03:00  INFO 22332 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T10:31:57.406+03:00  INFO 22332 --- [demo1] [http-nio-8080-exec-2] com.example.impl.UserImpl                : Get user: com.example.model.User@64cd8c88
2025-03-23T10:31:58.783+03:00  INFO 22332 --- [demo1] [http-nio-8080-exec-2] com.example.impl.UserImpl                : Updating user: UserDto(id=3, username=newuser23456ss232, email=newuser@example.com, phone=+375291680734, roleId=1, passwordHash=$2a$10$2jN5HDV0Fqgfk9.XeCtfSuCp8EUg/E7rCmyMFxdaQvpLfzaRaPrKW)
2025-03-23T10:31:58.800+03:00  INFO 22332 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T10:31:58.803+03:00  INFO 22332 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:31:58.805+03:00  INFO 22332 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T10:31:58.806+03:00  INFO 22332 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T10:31:58.806+03:00  INFO 22332 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T10:31:58.806+03:00  INFO 22332 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T10:31:58.806+03:00  INFO 22332 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T10:31:58.806+03:00  INFO 22332 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T10:31:58.806+03:00  INFO 22332 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T10:31:58.807+03:00  INFO 22332 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T10:31:58.807+03:00  INFO 22332 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T10:31:58.807+03:00  INFO 22332 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T10:31:58.811+03:00  INFO 22332 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T10:31:58.813+03:00  INFO 22332 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T10:32:32.506+03:00  INFO 6636 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 6636 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T10:32:32.508+03:00  INFO 6636 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T10:32:32.889+03:00  INFO 6636 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T10:32:32.933+03:00  INFO 6636 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 10 JPA repository interfaces.
2025-03-23T10:32:33.386+03:00  INFO 6636 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T10:32:33.396+03:00  INFO 6636 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T10:32:33.396+03:00  INFO 6636 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T10:32:33.437+03:00  INFO 6636 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T10:32:33.437+03:00  INFO 6636 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 887 ms
2025-03-23T10:32:33.604+03:00  INFO 6636 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T10:32:33.713+03:00  INFO 6636 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@552fee7a
2025-03-23T10:32:33.714+03:00  INFO 6636 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T10:32:33.731+03:00  INFO 6636 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T10:32:33.763+03:00  INFO 6636 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.019s)
2025-03-23T10:32:33.807+03:00  INFO 6636 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T10:32:33.810+03:00  INFO 6636 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T10:32:33.870+03:00  INFO 6636 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T10:32:33.914+03:00  INFO 6636 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T10:32:33.939+03:00  INFO 6636 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T10:32:34.138+03:00  INFO 6636 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T10:32:34.487+03:00  WARN 6636 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:32:34.534+03:00  INFO 6636 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T10:32:34.544+03:00  WARN 6636 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:32:34.546+03:00  INFO 6636 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T10:32:34.546+03:00  WARN 6636 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:32:34.547+03:00  INFO 6636 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T10:32:34.548+03:00  WARN 6636 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:32:34.549+03:00  INFO 6636 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T10:32:34.549+03:00  WARN 6636 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:32:34.551+03:00  INFO 6636 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T10:32:34.551+03:00  WARN 6636 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:32:34.552+03:00  INFO 6636 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T10:32:34.552+03:00  WARN 6636 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:32:34.553+03:00  INFO 6636 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T10:32:34.554+03:00  WARN 6636 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:32:34.554+03:00  INFO 6636 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T10:32:34.555+03:00  WARN 6636 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:32:34.556+03:00  INFO 6636 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T10:32:34.556+03:00  WARN 6636 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:32:34.557+03:00  INFO 6636 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T10:32:35.036+03:00  INFO 6636 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T10:32:35.038+03:00  INFO 6636 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:32:35.252+03:00  INFO 6636 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T10:32:35.330+03:00  WARN 6636 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T10:32:35.346+03:00  INFO 6636 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T10:32:35.346+03:00  WARN 6636 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T10:32:35.525+03:00 DEBUG 6636 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T10:32:35.666+03:00  INFO 6636 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T10:32:35.671+03:00  INFO 6636 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 3.46 seconds (process running for 3.878)
2025-03-23T10:32:40.488+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T10:32:40.491+03:00  INFO 6636 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T10:32:40.495+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:32:40.497+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T10:32:40.497+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T10:32:40.497+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T10:32:40.497+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T10:32:40.497+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T10:32:40.498+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T10:32:40.498+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T10:32:40.498+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T10:32:40.498+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T10:32:40.498+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T10:32:40.502+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T10:32:40.505+03:00  INFO 6636 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T10:32:42.704+03:00  INFO 3740 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 3740 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T10:32:42.706+03:00  INFO 3740 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T10:32:43.075+03:00  INFO 3740 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T10:32:43.120+03:00  INFO 3740 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 10 JPA repository interfaces.
2025-03-23T10:32:43.635+03:00  INFO 3740 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T10:32:43.647+03:00  INFO 3740 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T10:32:43.647+03:00  INFO 3740 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T10:32:43.687+03:00  INFO 3740 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T10:32:43.687+03:00  INFO 3740 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 941 ms
2025-03-23T10:32:43.862+03:00  INFO 3740 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T10:32:43.976+03:00  INFO 3740 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@76828577
2025-03-23T10:32:43.977+03:00  INFO 3740 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T10:32:43.995+03:00  INFO 3740 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T10:32:44.027+03:00  INFO 3740 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.019s)
2025-03-23T10:32:44.072+03:00  INFO 3740 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T10:32:44.074+03:00  INFO 3740 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T10:32:44.130+03:00  INFO 3740 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T10:32:44.173+03:00  INFO 3740 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T10:32:44.199+03:00  INFO 3740 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T10:32:44.403+03:00  INFO 3740 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T10:32:44.781+03:00  WARN 3740 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:32:44.840+03:00  INFO 3740 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T10:32:44.848+03:00  WARN 3740 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:32:44.850+03:00  INFO 3740 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T10:32:44.850+03:00  WARN 3740 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:32:44.851+03:00  INFO 3740 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T10:32:44.852+03:00  WARN 3740 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:32:44.853+03:00  INFO 3740 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T10:32:44.854+03:00  WARN 3740 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:32:44.855+03:00  INFO 3740 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T10:32:44.855+03:00  WARN 3740 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:32:44.856+03:00  INFO 3740 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T10:32:44.857+03:00  WARN 3740 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:32:44.858+03:00  INFO 3740 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T10:32:44.858+03:00  WARN 3740 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:32:44.859+03:00  INFO 3740 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T10:32:44.859+03:00  WARN 3740 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:32:44.861+03:00  INFO 3740 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T10:32:44.861+03:00  WARN 3740 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:32:44.862+03:00  INFO 3740 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T10:32:45.381+03:00  INFO 3740 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T10:32:45.383+03:00  INFO 3740 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:32:45.610+03:00  INFO 3740 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T10:32:45.702+03:00  WARN 3740 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T10:32:45.719+03:00  INFO 3740 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T10:32:45.719+03:00  WARN 3740 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T10:32:45.885+03:00 DEBUG 3740 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T10:32:46.039+03:00  INFO 3740 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T10:32:46.045+03:00  INFO 3740 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 3.678 seconds (process running for 4.249)
2025-03-23T10:32:50.226+03:00  INFO 3740 --- [demo1] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T10:32:50.227+03:00  INFO 3740 --- [demo1] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T10:32:50.228+03:00  INFO 3740 --- [demo1] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-23T10:32:50.240+03:00 DEBUG 3740 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /profile/3
2025-03-23T10:32:50.725+03:00 DEBUG 3740 --- [demo1] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T10:32:50.725+03:00 DEBUG 3740 --- [demo1] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@6d5a9d4, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_Admin]]
2025-03-23T10:32:50.727+03:00 DEBUG 3740 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured PUT /profile/3
2025-03-23T10:33:06.308+03:00  INFO 3740 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T10:33:06.372+03:00  INFO 3740 --- [demo1] [http-nio-8080-exec-1] com.example.impl.UserImpl                : Get user: com.example.model.User@4bd9837d
2025-03-23T10:33:07.758+03:00  INFO 3740 --- [demo1] [http-nio-8080-exec-1] com.example.impl.UserImpl                : Updating user: UserDto(id=3, username=newuser23456ss232, email=newuser@example.com, phone=+375291680734, roleId=1, passwordHash=$2a$10$MAyIymZeOdYUJWRh8fkaZ.cx7g22LUHScqDwLnyy8pNzuOua0iaN.)
2025-03-23T10:33:07.821+03:00  INFO 3740 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T10:33:07.825+03:00  INFO 3740 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:33:07.827+03:00  INFO 3740 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T10:33:07.827+03:00  INFO 3740 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T10:33:07.827+03:00  INFO 3740 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T10:33:07.827+03:00  INFO 3740 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T10:33:07.827+03:00  INFO 3740 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T10:33:07.828+03:00  INFO 3740 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T10:33:07.828+03:00  INFO 3740 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T10:33:07.828+03:00  INFO 3740 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T10:33:07.828+03:00  INFO 3740 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T10:33:07.828+03:00  INFO 3740 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T10:33:07.832+03:00  INFO 3740 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T10:33:07.834+03:00  INFO 3740 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T10:33:09.496+03:00  INFO 19216 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 19216 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T10:33:09.498+03:00  INFO 19216 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T10:33:09.856+03:00  INFO 19216 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T10:33:09.906+03:00  INFO 19216 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 10 JPA repository interfaces.
2025-03-23T10:33:10.423+03:00  INFO 19216 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T10:33:10.434+03:00  INFO 19216 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T10:33:10.434+03:00  INFO 19216 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T10:33:10.473+03:00  INFO 19216 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T10:33:10.473+03:00  INFO 19216 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 936 ms
2025-03-23T10:33:10.650+03:00  INFO 19216 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T10:33:10.865+03:00  INFO 19216 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@aca2fc3
2025-03-23T10:33:10.866+03:00  INFO 19216 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T10:33:10.884+03:00  INFO 19216 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T10:33:10.916+03:00  INFO 19216 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.020s)
2025-03-23T10:33:11.070+03:00  INFO 19216 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T10:33:11.072+03:00  INFO 19216 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T10:33:11.126+03:00  INFO 19216 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T10:33:11.168+03:00  INFO 19216 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T10:33:11.192+03:00  INFO 19216 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T10:33:11.402+03:00  INFO 19216 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T10:33:11.774+03:00  WARN 19216 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:33:11.835+03:00  INFO 19216 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T10:33:11.842+03:00  WARN 19216 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:33:11.843+03:00  INFO 19216 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T10:33:11.844+03:00  WARN 19216 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:33:11.845+03:00  INFO 19216 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T10:33:11.845+03:00  WARN 19216 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:33:11.847+03:00  INFO 19216 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T10:33:11.847+03:00  WARN 19216 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:33:11.849+03:00  INFO 19216 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T10:33:11.849+03:00  WARN 19216 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:33:11.850+03:00  INFO 19216 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T10:33:11.851+03:00  WARN 19216 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:33:11.852+03:00  INFO 19216 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T10:33:11.852+03:00  WARN 19216 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:33:11.853+03:00  INFO 19216 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T10:33:11.853+03:00  WARN 19216 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:33:11.854+03:00  INFO 19216 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T10:33:11.855+03:00  WARN 19216 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:33:11.856+03:00  INFO 19216 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T10:33:12.358+03:00  INFO 19216 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T10:33:12.360+03:00  INFO 19216 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:33:12.586+03:00  INFO 19216 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T10:33:12.677+03:00  WARN 19216 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T10:33:12.695+03:00  INFO 19216 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T10:33:12.695+03:00  WARN 19216 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T10:33:12.861+03:00 DEBUG 19216 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T10:33:13.011+03:00  INFO 19216 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T10:33:13.017+03:00  INFO 19216 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 3.848 seconds (process running for 4.397)
2025-03-23T10:33:15.695+03:00  INFO 19216 --- [demo1] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T10:33:15.695+03:00  INFO 19216 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T10:33:15.696+03:00  INFO 19216 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-23T10:33:15.710+03:00 DEBUG 19216 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing PUT /profile/3
2025-03-23T10:33:16.180+03:00 DEBUG 19216 --- [demo1] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T10:33:16.180+03:00 DEBUG 19216 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@662c2ad1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_User]]
2025-03-23T10:33:16.182+03:00 DEBUG 19216 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured PUT /profile/3
2025-03-23T10:34:51.775+03:00  WARN 19216 --- [demo1] [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m40s803ms4µs200ns).
2025-03-23T10:34:51.807+03:00  INFO 19216 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T10:34:51.876+03:00  INFO 19216 --- [demo1] [http-nio-8080-exec-2] com.example.impl.UserImpl                : Get user: com.example.model.User@3c908428
2025-03-23T10:34:53.245+03:00  INFO 19216 --- [demo1] [http-nio-8080-exec-2] com.example.impl.UserImpl                : Updating user: UserDto(id=3, username=newuser23456ss232, email=newuser@example.com, phone=+375291680734, roleId=1, passwordHash=$2a$10$a612rhcz07qJx85OwS5gZ.C7xhxrpNVLjqBG24XnbxX/UzLyKdFYy)
2025-03-23T10:34:53.261+03:00  INFO 19216 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T10:34:53.265+03:00  INFO 19216 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:34:53.267+03:00  INFO 19216 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T10:34:53.267+03:00  INFO 19216 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T10:34:53.267+03:00  INFO 19216 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T10:34:53.268+03:00  INFO 19216 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T10:34:53.268+03:00  INFO 19216 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T10:34:53.268+03:00  INFO 19216 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T10:34:53.268+03:00  INFO 19216 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T10:34:53.268+03:00  INFO 19216 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T10:34:53.268+03:00  INFO 19216 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T10:34:53.268+03:00  INFO 19216 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T10:34:53.272+03:00  INFO 19216 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T10:34:53.274+03:00  INFO 19216 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T10:34:56.155+03:00  INFO 7564 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 7564 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T10:34:56.156+03:00  INFO 7564 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T10:34:56.543+03:00  INFO 7564 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T10:34:56.588+03:00  INFO 7564 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 10 JPA repository interfaces.
2025-03-23T10:34:57.120+03:00  INFO 7564 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T10:34:57.130+03:00  INFO 7564 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T10:34:57.130+03:00  INFO 7564 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T10:34:57.167+03:00  INFO 7564 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T10:34:57.167+03:00  INFO 7564 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 971 ms
2025-03-23T10:34:57.353+03:00  INFO 7564 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T10:34:57.467+03:00  INFO 7564 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@49889154
2025-03-23T10:34:57.468+03:00  INFO 7564 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T10:34:57.486+03:00  INFO 7564 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T10:34:57.519+03:00  INFO 7564 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.020s)
2025-03-23T10:34:57.676+03:00  INFO 7564 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T10:34:57.678+03:00  INFO 7564 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T10:34:57.733+03:00  INFO 7564 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T10:34:57.779+03:00  INFO 7564 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T10:34:57.805+03:00  INFO 7564 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T10:34:58.006+03:00  INFO 7564 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T10:34:58.383+03:00  WARN 7564 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:34:58.441+03:00  INFO 7564 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T10:34:58.449+03:00  WARN 7564 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:34:58.450+03:00  INFO 7564 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T10:34:58.451+03:00  WARN 7564 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:34:58.452+03:00  INFO 7564 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T10:34:58.453+03:00  WARN 7564 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:34:58.454+03:00  INFO 7564 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T10:34:58.454+03:00  WARN 7564 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:34:58.455+03:00  INFO 7564 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T10:34:58.456+03:00  WARN 7564 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:34:58.457+03:00  INFO 7564 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T10:34:58.457+03:00  WARN 7564 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:34:58.458+03:00  INFO 7564 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T10:34:58.459+03:00  WARN 7564 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:34:58.460+03:00  INFO 7564 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T10:34:58.460+03:00  WARN 7564 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:34:58.461+03:00  INFO 7564 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T10:34:58.461+03:00  WARN 7564 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:34:58.462+03:00  INFO 7564 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T10:34:58.963+03:00  INFO 7564 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T10:34:58.966+03:00  INFO 7564 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:34:59.209+03:00  INFO 7564 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T10:34:59.383+03:00  WARN 7564 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T10:34:59.407+03:00  INFO 7564 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T10:34:59.407+03:00  WARN 7564 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T10:34:59.624+03:00 DEBUG 7564 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T10:34:59.830+03:00  INFO 7564 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T10:34:59.836+03:00  INFO 7564 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 4.003 seconds (process running for 4.527)
2025-03-23T10:35:04.826+03:00  INFO 7564 --- [demo1] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T10:35:04.826+03:00  INFO 7564 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T10:35:04.827+03:00  INFO 7564 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-23T10:35:04.840+03:00 DEBUG 7564 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing PUT /profile/3
2025-03-23T10:35:05.299+03:00 DEBUG 7564 --- [demo1] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T10:35:05.300+03:00 DEBUG 7564 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@56471657, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_User]]
2025-03-23T10:35:05.302+03:00 DEBUG 7564 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured PUT /profile/3
2025-03-23T10:35:05.375+03:00 DEBUG 7564 --- [demo1] [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.controller.UserControllerTest.updateUser(com.example.model.UserDto,java.lang.Long); target is of class [com.example.controller.UserControllerTest]
2025-03-23T10:35:05.400+03:00 DEBUG 7564 --- [demo1] [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.controller.UserControllerTest.updateUser(com.example.model.UserDto,java.lang.Long); target is of class [com.example.controller.UserControllerTest] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@c6365b2 and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasRole('Admin')]
2025-03-23T10:35:05.402+03:00 DEBUG 7564 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-03-23T10:35:05.406+03:00 DEBUG 7564 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-03-23T10:35:05.406+03:00 DEBUG 7564 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured PUT /error
2025-03-23T10:35:45.924+03:00 DEBUG 7564 --- [demo1] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing PUT /profile/3
2025-03-23T10:35:46.174+03:00 DEBUG 7564 --- [demo1] [http-nio-8080-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T10:35:46.174+03:00 DEBUG 7564 --- [demo1] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@1c32e6ae, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_Admin]]
2025-03-23T10:35:46.174+03:00 DEBUG 7564 --- [demo1] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured PUT /profile/3
2025-03-23T10:35:46.175+03:00 DEBUG 7564 --- [demo1] [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.controller.UserControllerTest.updateUser(com.example.model.UserDto,java.lang.Long); target is of class [com.example.controller.UserControllerTest]
2025-03-23T10:35:46.176+03:00 DEBUG 7564 --- [demo1] [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.controller.UserControllerTest.updateUser(com.example.model.UserDto,java.lang.Long); target is of class [com.example.controller.UserControllerTest]
2025-03-23T10:35:48.334+03:00  INFO 7564 --- [demo1] [http-nio-8080-exec-3] com.example.impl.UserImpl                : Get user: com.example.model.User@57861f68
2025-03-23T10:35:48.342+03:00  INFO 7564 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T10:35:48.426+03:00  INFO 7564 --- [demo1] [http-nio-8080-exec-3] com.example.impl.UserImpl                : Updating user: UserDto(id=3, username=newuser23456ss232, email=newuser@example.com, phone=+375291680734, roleId=1, passwordHash=$2a$10$.7LyuB8evXbGzCXiObFdUOfxXSAYPNCkw1s73GLK.dD9sNww93HyG)
2025-03-23T10:35:48.467+03:00  INFO 7564 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T10:35:48.471+03:00  INFO 7564 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:35:48.473+03:00  INFO 7564 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T10:35:48.473+03:00  INFO 7564 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T10:35:48.473+03:00  INFO 7564 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T10:35:48.474+03:00  INFO 7564 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T10:35:48.474+03:00  INFO 7564 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T10:35:48.474+03:00  INFO 7564 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T10:35:48.474+03:00  INFO 7564 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T10:35:48.474+03:00  INFO 7564 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T10:35:48.474+03:00  INFO 7564 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T10:35:48.475+03:00  INFO 7564 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T10:35:48.478+03:00  INFO 7564 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T10:35:48.480+03:00  INFO 7564 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T10:54:59.894+03:00  INFO 6444 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 6444 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T10:54:59.896+03:00  INFO 6444 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T10:55:00.432+03:00  INFO 6444 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T10:55:00.480+03:00  INFO 6444 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 10 JPA repository interfaces.
2025-03-23T10:55:00.988+03:00  INFO 6444 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T10:55:00.997+03:00  INFO 6444 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T10:55:00.997+03:00  INFO 6444 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T10:55:01.033+03:00  INFO 6444 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T10:55:01.034+03:00  INFO 6444 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1098 ms
2025-03-23T10:55:01.225+03:00  INFO 6444 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T10:55:01.449+03:00  INFO 6444 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@17c0274c
2025-03-23T10:55:01.451+03:00  INFO 6444 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T10:55:01.468+03:00  INFO 6444 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T10:55:01.501+03:00  INFO 6444 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.019s)
2025-03-23T10:55:01.546+03:00  INFO 6444 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T10:55:01.548+03:00  INFO 6444 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T10:55:01.606+03:00  INFO 6444 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T10:55:01.651+03:00  INFO 6444 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T10:55:01.679+03:00  INFO 6444 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T10:55:01.875+03:00  INFO 6444 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T10:55:02.232+03:00  WARN 6444 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:55:02.286+03:00  INFO 6444 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T10:55:02.292+03:00  WARN 6444 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:55:02.294+03:00  INFO 6444 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T10:55:02.294+03:00  WARN 6444 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:55:02.295+03:00  INFO 6444 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T10:55:02.296+03:00  WARN 6444 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:55:02.297+03:00  INFO 6444 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T10:55:02.297+03:00  WARN 6444 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:55:02.298+03:00  INFO 6444 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T10:55:02.299+03:00  WARN 6444 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:55:02.300+03:00  INFO 6444 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T10:55:02.300+03:00  WARN 6444 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:55:02.301+03:00  INFO 6444 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T10:55:02.301+03:00  WARN 6444 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:55:02.302+03:00  INFO 6444 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T10:55:02.303+03:00  WARN 6444 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:55:02.304+03:00  INFO 6444 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T10:55:02.304+03:00  WARN 6444 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T10:55:02.305+03:00  INFO 6444 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T10:55:02.790+03:00  INFO 6444 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T10:55:02.792+03:00  INFO 6444 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:55:03.027+03:00  INFO 6444 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T10:55:03.189+03:00  WARN 6444 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T10:55:03.212+03:00  INFO 6444 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T10:55:03.212+03:00  WARN 6444 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T10:55:03.423+03:00 DEBUG 6444 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T10:55:03.622+03:00  INFO 6444 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T10:55:03.627+03:00  INFO 6444 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 4.044 seconds (process running for 4.472)
2025-03-23T10:55:23.451+03:00  INFO 6444 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T10:55:23.455+03:00  INFO 6444 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T10:55:23.459+03:00  INFO 6444 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T10:55:23.461+03:00  INFO 6444 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T10:55:23.461+03:00  INFO 6444 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T10:55:23.461+03:00  INFO 6444 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T10:55:23.461+03:00  INFO 6444 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T10:55:23.462+03:00  INFO 6444 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T10:55:23.462+03:00  INFO 6444 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T10:55:23.462+03:00  INFO 6444 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T10:55:23.462+03:00  INFO 6444 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T10:55:23.462+03:00  INFO 6444 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T10:55:23.462+03:00  INFO 6444 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T10:55:23.466+03:00  INFO 6444 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T10:55:23.468+03:00  INFO 6444 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T13:17:23.648+03:00  INFO 2324 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 2324 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T13:17:23.650+03:00  INFO 2324 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T13:17:24.210+03:00  INFO 2324 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T13:17:24.260+03:00  INFO 2324 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 10 JPA repository interfaces.
2025-03-23T13:17:24.851+03:00  INFO 2324 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T13:17:24.863+03:00  INFO 2324 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T13:17:24.863+03:00  INFO 2324 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T13:17:24.905+03:00  INFO 2324 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T13:17:24.905+03:00  INFO 2324 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1195 ms
2025-03-23T13:17:25.124+03:00  INFO 2324 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T13:17:25.251+03:00  INFO 2324 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5aa76ad2
2025-03-23T13:17:25.252+03:00  INFO 2324 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T13:17:25.270+03:00  INFO 2324 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T13:17:25.320+03:00  INFO 2324 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.035s)
2025-03-23T13:17:25.367+03:00  INFO 2324 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T13:17:25.370+03:00  INFO 2324 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T13:17:25.436+03:00  INFO 2324 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T13:17:25.502+03:00  INFO 2324 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T13:17:25.537+03:00  INFO 2324 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T13:17:25.766+03:00  INFO 2324 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T13:17:26.206+03:00  WARN 2324 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T13:17:26.259+03:00  INFO 2324 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T13:17:26.267+03:00  WARN 2324 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T13:17:26.269+03:00  INFO 2324 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T13:17:26.269+03:00  WARN 2324 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T13:17:26.273+03:00  INFO 2324 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T13:17:26.273+03:00  WARN 2324 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T13:17:26.274+03:00  INFO 2324 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T13:17:26.275+03:00  WARN 2324 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T13:17:26.276+03:00  INFO 2324 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T13:17:26.277+03:00  WARN 2324 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T13:17:26.278+03:00  INFO 2324 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T13:17:26.278+03:00  WARN 2324 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T13:17:26.279+03:00  INFO 2324 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T13:17:26.279+03:00  WARN 2324 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T13:17:26.281+03:00  INFO 2324 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T13:17:26.281+03:00  WARN 2324 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T13:17:26.282+03:00  INFO 2324 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T13:17:26.282+03:00  WARN 2324 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T13:17:26.283+03:00  INFO 2324 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T13:17:26.825+03:00  INFO 2324 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T13:17:26.827+03:00  INFO 2324 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T13:17:27.120+03:00  INFO 2324 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T13:17:27.303+03:00  WARN 2324 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T13:17:27.331+03:00  INFO 2324 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T13:17:27.332+03:00  WARN 2324 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T13:17:27.583+03:00 DEBUG 2324 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T13:17:27.843+03:00  INFO 2324 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T13:17:27.849+03:00  INFO 2324 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 4.585 seconds (process running for 5.118)
2025-03-23T13:17:38.857+03:00  INFO 2324 --- [demo1] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T13:17:38.857+03:00  INFO 2324 --- [demo1] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T13:17:38.858+03:00  INFO 2324 --- [demo1] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-23T13:17:38.869+03:00 DEBUG 2324 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /listing
2025-03-23T13:17:39.345+03:00 DEBUG 2324 --- [demo1] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T13:17:39.346+03:00 DEBUG 2324 --- [demo1] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@67695405, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_Admin]]
2025-03-23T13:17:39.348+03:00 DEBUG 2324 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured PUT /listing
2025-03-23T13:17:39.355+03:00  WARN 2324 --- [demo1] [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' is not supported]
2025-03-23T13:17:39.364+03:00 DEBUG 2324 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-03-23T13:17:39.364+03:00 DEBUG 2324 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured PUT /error
2025-03-23T13:17:50.852+03:00 DEBUG 2324 --- [demo1] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /listing
2025-03-23T13:17:51.102+03:00 DEBUG 2324 --- [demo1] [http-nio-8080-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T13:17:51.103+03:00 DEBUG 2324 --- [demo1] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@1e6b6d16, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_Admin]]
2025-03-23T13:17:51.103+03:00 DEBUG 2324 --- [demo1] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /listing
2025-03-23T13:17:51.138+03:00  INFO 2324 --- [demo1] [http-nio-8080-exec-3] com.example.impl.ListingImpl             : Get listing: [com.example.model.Listing@2bc7a58e, com.example.model.Listing@7b538f61, com.example.model.Listing@dd3d715, com.example.model.Listing@3199a943, com.example.model.Listing@645613f2]
2025-03-23T13:17:59.035+03:00 DEBUG 2324 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /listing/t
2025-03-23T13:17:59.283+03:00 DEBUG 2324 --- [demo1] [http-nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T13:17:59.284+03:00 DEBUG 2324 --- [demo1] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@2e1ccedb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_Admin]]
2025-03-23T13:17:59.284+03:00 DEBUG 2324 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /listing/t
2025-03-23T13:17:59.285+03:00  WARN 2324 --- [demo1] [http-nio-8080-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2025-03-23T13:17:59.285+03:00 DEBUG 2324 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-03-23T13:17:59.285+03:00 DEBUG 2324 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-03-23T13:18:03.334+03:00 DEBUG 2324 --- [demo1] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /listing/t
2025-03-23T13:18:03.583+03:00 DEBUG 2324 --- [demo1] [http-nio-8080-exec-5] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T13:18:03.583+03:00 DEBUG 2324 --- [demo1] [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@1e9eeeb9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_Admin]]
2025-03-23T13:18:03.584+03:00 DEBUG 2324 --- [demo1] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /listing/t
2025-03-23T13:18:03.609+03:00  INFO 2324 --- [demo1] [http-nio-8080-exec-5] com.example.impl.ListingImpl             : Get listing: [com.example.model.Listing@3ee1a8c, com.example.model.Listing@69926727, com.example.model.Listing@4a6e9b53, com.example.model.Listing@4fa5ecec, com.example.model.Listing@b8f7d2a]
2025-03-23T13:18:11.187+03:00  INFO 2324 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T13:18:11.190+03:00  INFO 2324 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T13:18:11.194+03:00  INFO 2324 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T13:18:11.196+03:00  INFO 2324 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T13:18:11.196+03:00  INFO 2324 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T13:18:11.196+03:00  INFO 2324 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T13:18:11.196+03:00  INFO 2324 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T13:18:11.197+03:00  INFO 2324 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T13:18:11.197+03:00  INFO 2324 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T13:18:11.197+03:00  INFO 2324 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T13:18:11.197+03:00  INFO 2324 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T13:18:11.197+03:00  INFO 2324 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T13:18:11.197+03:00  INFO 2324 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T13:18:11.201+03:00  INFO 2324 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T13:18:11.203+03:00  INFO 2324 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T13:18:16.333+03:00  INFO 2296 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 2296 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T13:18:16.335+03:00  INFO 2296 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T13:18:17.208+03:00  INFO 2296 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T13:18:17.255+03:00  INFO 2296 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 10 JPA repository interfaces.
2025-03-23T13:18:17.789+03:00  INFO 2296 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T13:18:17.800+03:00  INFO 2296 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T13:18:17.800+03:00  INFO 2296 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T13:18:17.839+03:00  INFO 2296 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T13:18:17.839+03:00  INFO 2296 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1459 ms
2025-03-23T13:18:18.043+03:00  INFO 2296 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T13:18:18.185+03:00  INFO 2296 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5a4dda2
2025-03-23T13:18:18.186+03:00  INFO 2296 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T13:18:18.205+03:00  INFO 2296 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T13:18:18.253+03:00  INFO 2296 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.033s)
2025-03-23T13:18:18.304+03:00  INFO 2296 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T13:18:18.306+03:00  INFO 2296 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T13:18:18.367+03:00  INFO 2296 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T13:18:18.412+03:00  INFO 2296 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T13:18:18.438+03:00  INFO 2296 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T13:18:18.638+03:00  INFO 2296 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T13:18:19.024+03:00  WARN 2296 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T13:18:19.076+03:00  INFO 2296 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T13:18:19.083+03:00  WARN 2296 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T13:18:19.085+03:00  INFO 2296 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T13:18:19.085+03:00  WARN 2296 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T13:18:19.086+03:00  INFO 2296 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T13:18:19.087+03:00  WARN 2296 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T13:18:19.088+03:00  INFO 2296 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T13:18:19.088+03:00  WARN 2296 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T13:18:19.089+03:00  INFO 2296 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T13:18:19.090+03:00  WARN 2296 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T13:18:19.091+03:00  INFO 2296 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T13:18:19.091+03:00  WARN 2296 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T13:18:19.092+03:00  INFO 2296 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T13:18:19.092+03:00  WARN 2296 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T13:18:19.093+03:00  INFO 2296 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T13:18:19.094+03:00  WARN 2296 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T13:18:19.095+03:00  INFO 2296 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T13:18:19.095+03:00  WARN 2296 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T13:18:19.096+03:00  INFO 2296 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T13:18:19.614+03:00  INFO 2296 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T13:18:19.616+03:00  INFO 2296 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T13:18:19.861+03:00  INFO 2296 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T13:18:20.047+03:00  WARN 2296 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T13:18:20.072+03:00  INFO 2296 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T13:18:20.072+03:00  WARN 2296 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T13:18:20.293+03:00 DEBUG 2296 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T13:18:20.502+03:00  INFO 2296 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T13:18:20.507+03:00  INFO 2296 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 4.502 seconds (process running for 5.446)
2025-03-23T13:18:38.059+03:00  INFO 2296 --- [demo1] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T13:18:38.059+03:00  INFO 2296 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T13:18:38.060+03:00  INFO 2296 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-23T13:18:38.081+03:00 DEBUG 2296 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /listing/t
2025-03-23T13:18:38.536+03:00 DEBUG 2296 --- [demo1] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T13:18:38.536+03:00 DEBUG 2296 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@56104b06, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_Admin]]
2025-03-23T13:18:38.538+03:00 DEBUG 2296 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /listing/t
2025-03-23T13:18:38.588+03:00  INFO 2296 --- [demo1] [http-nio-8080-exec-2] com.example.impl.ListingImpl             : Get listing: [com.example.model.Listing@72fa466e, com.example.model.Listing@62c24994, com.example.model.Listing@3e00dd10, com.example.model.Listing@312810a2, com.example.model.Listing@11348f88]
2025-03-23T13:18:46.125+03:00  INFO 2296 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T13:18:46.128+03:00  INFO 2296 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T13:18:46.131+03:00  INFO 2296 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T13:18:46.133+03:00  INFO 2296 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T13:18:46.134+03:00  INFO 2296 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T13:18:46.134+03:00  INFO 2296 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T13:18:46.134+03:00  INFO 2296 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T13:18:46.134+03:00  INFO 2296 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T13:18:46.134+03:00  INFO 2296 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T13:18:46.134+03:00  INFO 2296 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T13:18:46.135+03:00  INFO 2296 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T13:18:46.135+03:00  INFO 2296 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T13:18:46.135+03:00  INFO 2296 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T13:18:46.138+03:00  INFO 2296 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T13:18:46.140+03:00  INFO 2296 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T16:35:52.729+03:00  INFO 12672 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 12672 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T16:35:52.731+03:00  INFO 12672 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T16:35:53.146+03:00  INFO 12672 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T16:35:53.192+03:00  INFO 12672 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 10 JPA repository interfaces.
2025-03-23T16:35:53.738+03:00  INFO 12672 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T16:35:53.748+03:00  INFO 12672 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T16:35:53.748+03:00  INFO 12672 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T16:35:53.787+03:00  INFO 12672 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T16:35:53.787+03:00  INFO 12672 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1011 ms
2025-03-23T16:35:53.988+03:00  INFO 12672 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T16:35:54.218+03:00  INFO 12672 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@76c86567
2025-03-23T16:35:54.219+03:00  INFO 12672 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T16:35:54.238+03:00  INFO 12672 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T16:35:54.278+03:00  INFO 12672 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.028s)
2025-03-23T16:35:54.323+03:00  INFO 12672 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T16:35:54.325+03:00  INFO 12672 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T16:35:54.390+03:00  INFO 12672 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T16:35:54.451+03:00  INFO 12672 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T16:35:54.484+03:00  INFO 12672 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T16:35:54.706+03:00  INFO 12672 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T16:35:55.119+03:00  WARN 12672 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:35:55.170+03:00  INFO 12672 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T16:35:55.177+03:00  WARN 12672 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:35:55.178+03:00  INFO 12672 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T16:35:55.178+03:00  WARN 12672 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:35:55.180+03:00  INFO 12672 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T16:35:55.180+03:00  WARN 12672 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:35:55.181+03:00  INFO 12672 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T16:35:55.181+03:00  WARN 12672 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:35:55.183+03:00  INFO 12672 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T16:35:55.183+03:00  WARN 12672 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:35:55.184+03:00  INFO 12672 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T16:35:55.184+03:00  WARN 12672 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:35:55.185+03:00  INFO 12672 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T16:35:55.185+03:00  WARN 12672 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:35:55.186+03:00  INFO 12672 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T16:35:55.187+03:00  WARN 12672 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:35:55.188+03:00  INFO 12672 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T16:35:55.188+03:00  WARN 12672 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:35:55.189+03:00  INFO 12672 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T16:35:55.699+03:00  INFO 12672 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T16:35:55.702+03:00  INFO 12672 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T16:35:55.960+03:00  INFO 12672 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T16:35:56.124+03:00  WARN 12672 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T16:35:56.151+03:00  INFO 12672 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T16:35:56.151+03:00  WARN 12672 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T16:35:56.371+03:00 DEBUG 12672 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T16:35:56.577+03:00  INFO 12672 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T16:35:56.583+03:00  INFO 12672 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 4.198 seconds (process running for 4.632)
2025-03-23T16:36:13.310+03:00  INFO 12672 --- [demo1] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T16:36:13.311+03:00  INFO 12672 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T16:36:13.312+03:00  INFO 12672 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-03-23T16:36:13.323+03:00 DEBUG 12672 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /auth/register
2025-03-23T16:36:13.802+03:00 DEBUG 12672 --- [demo1] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T16:36:13.803+03:00 DEBUG 12672 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@5f14df98, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_Admin]]
2025-03-23T16:36:13.805+03:00 DEBUG 12672 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /auth/register
2025-03-23T16:36:16.832+03:00 DEBUG 12672 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /auth/register
2025-03-23T16:36:17.081+03:00 DEBUG 12672 --- [demo1] [http-nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T16:36:17.081+03:00 DEBUG 12672 --- [demo1] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@654b483c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_Admin]]
2025-03-23T16:36:17.081+03:00 DEBUG 12672 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /auth/register
2025-03-23T16:36:17.173+03:00  WARN 12672 --- [demo1] [http-nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23502
2025-03-23T16:36:17.173+03:00 ERROR 12672 --- [demo1] [http-nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : ОШИБКА: значение NULL в столбце "password_hash" отношения "users" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (6, newuser23456ss2322, newuser@example.com, +375291680734, null, null).
2025-03-23T16:36:17.179+03:00 ERROR 12672 --- [demo1] [http-nio-8080-exec-4] com.example.impl.UserImpl                : Add user error:

org.springframework.dao.DataIntegrityViolationException: could not execute statement [ОШИБКА: значение NULL в столбце "password_hash" отношения "users" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (6, newuser23456ss2322, newuser@example.com, +375291680734, null, null).] [insert into users (email,password_hash,phone,role_id,username) values (?,?,?,?,?) returning id]; SQL [insert into users (email,password_hash,phone,role_id,username) values (?,?,?,?,?) returning id]; constraint [null]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.4.0.jar:3.4.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy143.save(Unknown Source) ~[na:na]
	at com.example.impl.UserImpl.add(UserImpl.java:33) ~[classes/:na]
	at com.example.impl.UserImpl.add(UserImpl.java:20) ~[classes/:na]
	at com.example.controller.AuthController.register(AuthController.java:29) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.36.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.36.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:213) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ОШИБКА: значение NULL в столбце "password_hash" отношения "users" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (6, newuser23456ss2322, newuser@example.com, +375291680734, null, null).] [insert into users (email,password_hash,phone,role_id,username) values (?,?,?,?,?) returning id]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.execute(ResultSetReturnImpl.java:145) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.id.insert.InsertReturningDelegate.executeAndExtractReturning(InsertReturningDelegate.java:96) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.id.insert.AbstractReturningDelegate.performMutation(AbstractReturningDelegate.java:58) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:391) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:305) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:757) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:741) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364) ~[spring-orm-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy140.persist(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320) ~[spring-orm-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy140.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:623) ~[spring-data-jpa-3.4.0.jar:3.4.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.3.jar:6.2.3]
	... 100 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: значение NULL в столбце "password_hash" отношения "users" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (6, newuser23456ss2322, newuser@example.com, +375291680734, null, null).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.execute(PgPreparedStatement.java:177) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.execute(ResultSetReturnImpl.java:129) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	... 151 common frames omitted

2025-03-23T16:38:07.174+03:00  INFO 12672 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T16:38:07.177+03:00  INFO 12672 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T16:38:07.180+03:00  INFO 12672 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T16:38:07.182+03:00  INFO 12672 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T16:38:07.183+03:00  INFO 12672 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T16:38:07.183+03:00  INFO 12672 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T16:38:07.183+03:00  INFO 12672 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T16:38:07.183+03:00  INFO 12672 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T16:38:07.183+03:00  INFO 12672 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T16:38:07.183+03:00  INFO 12672 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T16:38:07.183+03:00  INFO 12672 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T16:38:07.183+03:00  INFO 12672 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T16:38:07.184+03:00  INFO 12672 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T16:38:07.187+03:00  INFO 12672 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T16:38:07.189+03:00  INFO 12672 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T16:38:35.570+03:00  INFO 13272 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 13272 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T16:38:35.571+03:00  INFO 13272 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T16:38:35.963+03:00  INFO 13272 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T16:38:36.005+03:00  INFO 13272 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 10 JPA repository interfaces.
2025-03-23T16:38:36.496+03:00  INFO 13272 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T16:38:36.507+03:00  INFO 13272 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T16:38:36.508+03:00  INFO 13272 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T16:38:36.545+03:00  INFO 13272 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T16:38:36.546+03:00  INFO 13272 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 934 ms
2025-03-23T16:38:36.745+03:00  INFO 13272 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T16:38:36.854+03:00  INFO 13272 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@34045582
2025-03-23T16:38:36.855+03:00  INFO 13272 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T16:38:36.874+03:00  INFO 13272 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T16:38:36.906+03:00  INFO 13272 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.019s)
2025-03-23T16:38:37.052+03:00  INFO 13272 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T16:38:37.054+03:00  INFO 13272 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T16:38:37.108+03:00  INFO 13272 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T16:38:37.149+03:00  INFO 13272 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T16:38:37.172+03:00  INFO 13272 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T16:38:37.366+03:00  INFO 13272 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T16:38:37.716+03:00  WARN 13272 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:38:37.762+03:00  INFO 13272 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T16:38:37.770+03:00  WARN 13272 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:38:37.771+03:00  INFO 13272 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T16:38:37.772+03:00  WARN 13272 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:38:37.773+03:00  INFO 13272 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T16:38:37.773+03:00  WARN 13272 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:38:37.774+03:00  INFO 13272 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T16:38:37.775+03:00  WARN 13272 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:38:37.776+03:00  INFO 13272 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T16:38:37.776+03:00  WARN 13272 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:38:37.777+03:00  INFO 13272 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T16:38:37.778+03:00  WARN 13272 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:38:37.779+03:00  INFO 13272 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T16:38:37.779+03:00  WARN 13272 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:38:37.780+03:00  INFO 13272 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T16:38:37.780+03:00  WARN 13272 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:38:37.781+03:00  INFO 13272 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T16:38:37.782+03:00  WARN 13272 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:38:37.783+03:00  INFO 13272 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T16:38:38.287+03:00  INFO 13272 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T16:38:38.289+03:00  INFO 13272 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T16:38:38.521+03:00  INFO 13272 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T16:38:38.692+03:00  WARN 13272 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T16:38:38.719+03:00  INFO 13272 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T16:38:38.719+03:00  WARN 13272 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T16:38:38.917+03:00 DEBUG 13272 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T16:38:39.108+03:00  INFO 13272 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T16:38:39.113+03:00  INFO 13272 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 3.842 seconds (process running for 4.24)
2025-03-23T16:38:44.076+03:00  INFO 13272 --- [demo1] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T16:38:44.077+03:00  INFO 13272 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T16:38:44.078+03:00  INFO 13272 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-03-23T16:38:44.088+03:00 DEBUG 13272 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /auth/register
2025-03-23T16:38:44.542+03:00 DEBUG 13272 --- [demo1] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T16:38:44.543+03:00 DEBUG 13272 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@5914f3fd, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_Admin]]
2025-03-23T16:38:44.545+03:00 DEBUG 13272 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /auth/register
2025-03-23T16:38:52.822+03:00 DEBUG 13272 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /auth/register
2025-03-23T16:38:53.071+03:00 DEBUG 13272 --- [demo1] [http-nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T16:38:53.071+03:00 DEBUG 13272 --- [demo1] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@654b483c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_Admin]]
2025-03-23T16:38:53.071+03:00 DEBUG 13272 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /auth/register
2025-03-23T16:38:53.158+03:00  WARN 13272 --- [demo1] [http-nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23502
2025-03-23T16:38:53.158+03:00 ERROR 13272 --- [demo1] [http-nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : ОШИБКА: значение NULL в столбце "role_id" отношения "users" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (7, newuser23456ss2322, newuser@example.com, +375291680734, $2a$10$gFoABRxwyxdgWV1N14WhfeUMBcFJUojlSRWfwP/BbjRHso.ihI8wq, null).
2025-03-23T16:38:53.163+03:00 ERROR 13272 --- [demo1] [http-nio-8080-exec-4] com.example.impl.UserImpl                : Add user error:

org.springframework.dao.DataIntegrityViolationException: could not execute statement [ОШИБКА: значение NULL в столбце "role_id" отношения "users" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (7, newuser23456ss2322, newuser@example.com, +375291680734, $2a$10$gFoABRxwyxdgWV1N14WhfeUMBcFJUojlSRWfwP/BbjRHso.ihI8wq, null).] [insert into users (email,password_hash,phone,role_id,username) values (?,?,?,?,?) returning id]; SQL [insert into users (email,password_hash,phone,role_id,username) values (?,?,?,?,?) returning id]; constraint [null]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.4.0.jar:3.4.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy143.save(Unknown Source) ~[na:na]
	at com.example.impl.UserImpl.add(UserImpl.java:33) ~[classes/:na]
	at com.example.impl.UserImpl.add(UserImpl.java:20) ~[classes/:na]
	at com.example.controller.AuthController.register(AuthController.java:29) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.36.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.36.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:213) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ОШИБКА: значение NULL в столбце "role_id" отношения "users" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (7, newuser23456ss2322, newuser@example.com, +375291680734, $2a$10$gFoABRxwyxdgWV1N14WhfeUMBcFJUojlSRWfwP/BbjRHso.ihI8wq, null).] [insert into users (email,password_hash,phone,role_id,username) values (?,?,?,?,?) returning id]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.execute(ResultSetReturnImpl.java:145) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.id.insert.InsertReturningDelegate.executeAndExtractReturning(InsertReturningDelegate.java:96) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.id.insert.AbstractReturningDelegate.performMutation(AbstractReturningDelegate.java:58) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:391) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:305) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:757) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:741) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364) ~[spring-orm-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy140.persist(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320) ~[spring-orm-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy140.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:623) ~[spring-data-jpa-3.4.0.jar:3.4.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.3.jar:6.2.3]
	... 100 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: значение NULL в столбце "role_id" отношения "users" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (7, newuser23456ss2322, newuser@example.com, +375291680734, $2a$10$gFoABRxwyxdgWV1N14WhfeUMBcFJUojlSRWfwP/BbjRHso.ihI8wq, null).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.execute(PgPreparedStatement.java:177) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.execute(ResultSetReturnImpl.java:129) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	... 151 common frames omitted

2025-03-23T16:39:24.095+03:00  INFO 13272 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T16:39:24.098+03:00  INFO 13272 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T16:39:24.101+03:00  INFO 13272 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T16:39:24.103+03:00  INFO 13272 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T16:39:24.103+03:00  INFO 13272 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T16:39:24.103+03:00  INFO 13272 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T16:39:24.104+03:00  INFO 13272 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T16:39:24.104+03:00  INFO 13272 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T16:39:24.104+03:00  INFO 13272 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T16:39:24.104+03:00  INFO 13272 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T16:39:24.104+03:00  INFO 13272 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T16:39:24.104+03:00  INFO 13272 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T16:39:24.104+03:00  INFO 13272 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T16:39:24.107+03:00  INFO 13272 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T16:39:24.109+03:00  INFO 13272 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T16:39:27.205+03:00  INFO 14988 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 14988 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T16:39:27.206+03:00  INFO 14988 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T16:39:27.586+03:00  INFO 14988 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T16:39:27.629+03:00  INFO 14988 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 10 JPA repository interfaces.
2025-03-23T16:39:28.137+03:00  INFO 14988 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T16:39:28.148+03:00  INFO 14988 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T16:39:28.149+03:00  INFO 14988 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T16:39:28.186+03:00  INFO 14988 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T16:39:28.187+03:00  INFO 14988 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 940 ms
2025-03-23T16:39:28.373+03:00  INFO 14988 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T16:39:28.481+03:00  INFO 14988 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@34045582
2025-03-23T16:39:28.482+03:00  INFO 14988 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T16:39:28.500+03:00  INFO 14988 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T16:39:28.535+03:00  INFO 14988 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.021s)
2025-03-23T16:39:28.691+03:00  INFO 14988 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T16:39:28.693+03:00  INFO 14988 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T16:39:28.761+03:00  INFO 14988 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T16:39:28.809+03:00  INFO 14988 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T16:39:28.834+03:00  INFO 14988 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T16:39:29.042+03:00  INFO 14988 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T16:39:29.428+03:00  WARN 14988 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:39:29.476+03:00  INFO 14988 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T16:39:29.483+03:00  WARN 14988 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:39:29.484+03:00  INFO 14988 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T16:39:29.484+03:00  WARN 14988 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:39:29.486+03:00  INFO 14988 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T16:39:29.486+03:00  WARN 14988 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:39:29.487+03:00  INFO 14988 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T16:39:29.488+03:00  WARN 14988 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:39:29.489+03:00  INFO 14988 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T16:39:29.489+03:00  WARN 14988 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:39:29.490+03:00  INFO 14988 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T16:39:29.490+03:00  WARN 14988 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:39:29.491+03:00  INFO 14988 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T16:39:29.492+03:00  WARN 14988 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:39:29.493+03:00  INFO 14988 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T16:39:29.493+03:00  WARN 14988 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:39:29.494+03:00  INFO 14988 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T16:39:29.494+03:00  WARN 14988 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:39:29.496+03:00  INFO 14988 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T16:39:29.993+03:00  INFO 14988 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T16:39:29.995+03:00  INFO 14988 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T16:39:30.232+03:00  INFO 14988 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T16:39:30.395+03:00  WARN 14988 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T16:39:30.422+03:00  INFO 14988 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T16:39:30.422+03:00  WARN 14988 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T16:39:30.665+03:00 DEBUG 14988 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T16:39:30.881+03:00  INFO 14988 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T16:39:30.887+03:00  INFO 14988 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 4.003 seconds (process running for 4.406)
2025-03-23T16:39:33.556+03:00  INFO 14988 --- [demo1] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T16:39:33.557+03:00  INFO 14988 --- [demo1] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T16:39:33.557+03:00  INFO 14988 --- [demo1] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-03-23T16:39:33.568+03:00 DEBUG 14988 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /auth/register
2025-03-23T16:39:34.019+03:00 DEBUG 14988 --- [demo1] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T16:39:34.019+03:00 DEBUG 14988 --- [demo1] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@1c3b99a6, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_Admin]]
2025-03-23T16:39:34.021+03:00 DEBUG 14988 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /auth/register
2025-03-23T16:39:34.170+03:00  WARN 14988 --- [demo1] [http-nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23502
2025-03-23T16:39:34.170+03:00 ERROR 14988 --- [demo1] [http-nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ОШИБКА: значение NULL в столбце "role_id" отношения "users" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (8, newuser23456ss2322, newuser@example.com, +375291680734, $2a$10$qpf8VKDfeXVfZP9xETSTqe5Ku66M/FqS6IlJxQgXckirkrbFDbloG, null).
2025-03-23T16:39:34.176+03:00 ERROR 14988 --- [demo1] [http-nio-8080-exec-1] com.example.impl.UserImpl                : Add user error:

org.springframework.dao.DataIntegrityViolationException: could not execute statement [ОШИБКА: значение NULL в столбце "role_id" отношения "users" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (8, newuser23456ss2322, newuser@example.com, +375291680734, $2a$10$qpf8VKDfeXVfZP9xETSTqe5Ku66M/FqS6IlJxQgXckirkrbFDbloG, null).] [insert into users (email,password_hash,phone,role_id,username) values (?,?,?,?,?) returning id]; SQL [insert into users (email,password_hash,phone,role_id,username) values (?,?,?,?,?) returning id]; constraint [null]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.4.0.jar:3.4.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy143.save(Unknown Source) ~[na:na]
	at com.example.impl.UserImpl.add(UserImpl.java:33) ~[classes/:na]
	at com.example.impl.UserImpl.add(UserImpl.java:20) ~[classes/:na]
	at com.example.controller.AuthController.register(AuthController.java:30) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.36.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.36.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:213) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ОШИБКА: значение NULL в столбце "role_id" отношения "users" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (8, newuser23456ss2322, newuser@example.com, +375291680734, $2a$10$qpf8VKDfeXVfZP9xETSTqe5Ku66M/FqS6IlJxQgXckirkrbFDbloG, null).] [insert into users (email,password_hash,phone,role_id,username) values (?,?,?,?,?) returning id]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.execute(ResultSetReturnImpl.java:145) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.id.insert.InsertReturningDelegate.executeAndExtractReturning(InsertReturningDelegate.java:96) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.id.insert.AbstractReturningDelegate.performMutation(AbstractReturningDelegate.java:58) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:391) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:305) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:757) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:741) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364) ~[spring-orm-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy140.persist(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320) ~[spring-orm-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy140.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:623) ~[spring-data-jpa-3.4.0.jar:3.4.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.3.jar:6.2.3]
	... 100 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: значение NULL в столбце "role_id" отношения "users" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (8, newuser23456ss2322, newuser@example.com, +375291680734, $2a$10$qpf8VKDfeXVfZP9xETSTqe5Ku66M/FqS6IlJxQgXckirkrbFDbloG, null).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.execute(PgPreparedStatement.java:177) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.execute(ResultSetReturnImpl.java:129) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	... 151 common frames omitted

2025-03-23T16:40:58.000+03:00  INFO 14988 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T16:40:58.004+03:00  INFO 14988 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T16:40:58.007+03:00  INFO 14988 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T16:40:58.009+03:00  INFO 14988 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T16:40:58.009+03:00  INFO 14988 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T16:40:58.010+03:00  INFO 14988 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T16:40:58.010+03:00  INFO 14988 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T16:40:58.010+03:00  INFO 14988 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T16:40:58.010+03:00  INFO 14988 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T16:40:58.010+03:00  INFO 14988 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T16:40:58.010+03:00  INFO 14988 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T16:40:58.010+03:00  INFO 14988 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T16:40:58.011+03:00  INFO 14988 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T16:40:58.013+03:00  INFO 14988 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T16:40:58.015+03:00  INFO 14988 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T16:42:33.090+03:00  INFO 12344 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 12344 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T16:42:33.092+03:00  INFO 12344 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T16:42:33.650+03:00  INFO 12344 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T16:42:33.692+03:00  INFO 12344 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 10 JPA repository interfaces.
2025-03-23T16:42:34.180+03:00  INFO 12344 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T16:42:34.190+03:00  INFO 12344 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T16:42:34.190+03:00  INFO 12344 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T16:42:34.225+03:00  INFO 12344 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T16:42:34.225+03:00  INFO 12344 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1091 ms
2025-03-23T16:42:34.406+03:00  INFO 12344 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T16:42:34.513+03:00  INFO 12344 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@76c86567
2025-03-23T16:42:34.514+03:00  INFO 12344 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T16:42:34.531+03:00  INFO 12344 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T16:42:34.563+03:00  INFO 12344 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.019s)
2025-03-23T16:42:34.607+03:00  INFO 12344 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T16:42:34.608+03:00  INFO 12344 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T16:42:34.666+03:00  INFO 12344 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T16:42:34.707+03:00  INFO 12344 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T16:42:34.731+03:00  INFO 12344 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T16:42:34.924+03:00  INFO 12344 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T16:42:35.270+03:00  WARN 12344 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:42:35.321+03:00  INFO 12344 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T16:42:35.329+03:00  WARN 12344 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:42:35.331+03:00  INFO 12344 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T16:42:35.332+03:00  WARN 12344 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:42:35.333+03:00  INFO 12344 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T16:42:35.333+03:00  WARN 12344 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:42:35.335+03:00  INFO 12344 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T16:42:35.335+03:00  WARN 12344 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:42:35.336+03:00  INFO 12344 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T16:42:35.336+03:00  WARN 12344 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:42:35.337+03:00  INFO 12344 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T16:42:35.338+03:00  WARN 12344 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:42:35.339+03:00  INFO 12344 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T16:42:35.339+03:00  WARN 12344 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:42:35.340+03:00  INFO 12344 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T16:42:35.340+03:00  WARN 12344 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:42:35.341+03:00  INFO 12344 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T16:42:35.341+03:00  WARN 12344 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:42:35.342+03:00  INFO 12344 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T16:42:35.825+03:00  INFO 12344 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T16:42:35.827+03:00  INFO 12344 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T16:42:36.053+03:00  INFO 12344 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T16:42:36.213+03:00  WARN 12344 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T16:42:36.235+03:00  INFO 12344 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T16:42:36.235+03:00  WARN 12344 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T16:42:36.430+03:00 DEBUG 12344 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T16:42:36.622+03:00  INFO 12344 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T16:42:36.627+03:00  INFO 12344 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 3.845 seconds (process running for 4.233)
2025-03-23T16:42:38.856+03:00  INFO 12344 --- [demo1] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T16:42:38.856+03:00  INFO 12344 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T16:42:38.857+03:00  INFO 12344 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-03-23T16:42:38.868+03:00 DEBUG 12344 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /auth/register
2025-03-23T16:42:39.321+03:00 DEBUG 12344 --- [demo1] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T16:42:39.322+03:00 DEBUG 12344 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@2a1d74a7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_Admin]]
2025-03-23T16:42:39.324+03:00 DEBUG 12344 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /auth/register
2025-03-23T16:42:46.486+03:00 DEBUG 12344 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /auth/register
2025-03-23T16:42:46.734+03:00 DEBUG 12344 --- [demo1] [http-nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T16:42:46.735+03:00 DEBUG 12344 --- [demo1] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@729854e1, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_Admin]]
2025-03-23T16:42:46.735+03:00 DEBUG 12344 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /auth/register
2025-03-23T16:42:46.822+03:00  WARN 12344 --- [demo1] [http-nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23502
2025-03-23T16:42:46.822+03:00 ERROR 12344 --- [demo1] [http-nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : ОШИБКА: значение NULL в столбце "role_id" отношения "users" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (9, newuser23456ss2322, newuser@example.com, +375291680734, $2a$10$RmX2qxSbPxO0vsKaQNmpZerDAE737uGvucJ4HvOfzDH7ze5dTDtMq, null).
2025-03-23T16:42:46.827+03:00 ERROR 12344 --- [demo1] [http-nio-8080-exec-4] com.example.impl.UserImpl                : Add user error:

org.springframework.dao.DataIntegrityViolationException: could not execute statement [ОШИБКА: значение NULL в столбце "role_id" отношения "users" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (9, newuser23456ss2322, newuser@example.com, +375291680734, $2a$10$RmX2qxSbPxO0vsKaQNmpZerDAE737uGvucJ4HvOfzDH7ze5dTDtMq, null).] [insert into users (email,password_hash,phone,role_id,username) values (?,?,?,?,?) returning id]; SQL [insert into users (email,password_hash,phone,role_id,username) values (?,?,?,?,?) returning id]; constraint [null]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.4.0.jar:3.4.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy143.save(Unknown Source) ~[na:na]
	at com.example.impl.UserImpl.add(UserImpl.java:33) ~[classes/:na]
	at com.example.impl.UserImpl.add(UserImpl.java:20) ~[classes/:na]
	at com.example.controller.AuthController.register(AuthController.java:30) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.36.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.36.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:213) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ОШИБКА: значение NULL в столбце "role_id" отношения "users" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (9, newuser23456ss2322, newuser@example.com, +375291680734, $2a$10$RmX2qxSbPxO0vsKaQNmpZerDAE737uGvucJ4HvOfzDH7ze5dTDtMq, null).] [insert into users (email,password_hash,phone,role_id,username) values (?,?,?,?,?) returning id]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.execute(ResultSetReturnImpl.java:145) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.id.insert.InsertReturningDelegate.executeAndExtractReturning(InsertReturningDelegate.java:96) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.id.insert.AbstractReturningDelegate.performMutation(AbstractReturningDelegate.java:58) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:391) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:305) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:757) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:741) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364) ~[spring-orm-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy140.persist(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320) ~[spring-orm-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy140.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:623) ~[spring-data-jpa-3.4.0.jar:3.4.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.3.jar:6.2.3]
	... 100 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: значение NULL в столбце "role_id" отношения "users" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (9, newuser23456ss2322, newuser@example.com, +375291680734, $2a$10$RmX2qxSbPxO0vsKaQNmpZerDAE737uGvucJ4HvOfzDH7ze5dTDtMq, null).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.execute(PgPreparedStatement.java:177) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.execute(ResultSetReturnImpl.java:129) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	... 151 common frames omitted

2025-03-23T16:43:00.963+03:00  INFO 12344 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T16:43:00.966+03:00  INFO 12344 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T16:43:00.970+03:00  INFO 12344 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T16:43:00.971+03:00  INFO 12344 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T16:43:00.972+03:00  INFO 12344 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T16:43:00.972+03:00  INFO 12344 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T16:43:00.972+03:00  INFO 12344 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T16:43:00.972+03:00  INFO 12344 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T16:43:00.972+03:00  INFO 12344 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T16:43:00.972+03:00  INFO 12344 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T16:43:00.972+03:00  INFO 12344 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T16:43:00.973+03:00  INFO 12344 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T16:43:00.973+03:00  INFO 12344 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T16:43:00.976+03:00  INFO 12344 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T16:43:00.977+03:00  INFO 12344 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T16:43:11.363+03:00  INFO 984 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 984 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T16:43:11.365+03:00  INFO 984 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T16:43:11.750+03:00  INFO 984 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T16:43:11.802+03:00  INFO 984 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 10 JPA repository interfaces.
2025-03-23T16:43:12.344+03:00  INFO 984 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T16:43:12.354+03:00  INFO 984 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T16:43:12.355+03:00  INFO 984 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T16:43:12.392+03:00  INFO 984 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T16:43:12.392+03:00  INFO 984 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 987 ms
2025-03-23T16:43:12.586+03:00  INFO 984 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T16:43:12.698+03:00  INFO 984 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3dde5f38
2025-03-23T16:43:12.700+03:00  INFO 984 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T16:43:12.718+03:00  INFO 984 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T16:43:12.751+03:00  INFO 984 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.020s)
2025-03-23T16:43:12.795+03:00  INFO 984 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T16:43:12.797+03:00  INFO 984 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T16:43:12.857+03:00  INFO 984 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T16:43:12.901+03:00  INFO 984 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T16:43:12.931+03:00  INFO 984 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T16:43:13.137+03:00  INFO 984 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T16:43:13.518+03:00  WARN 984 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:43:13.580+03:00  INFO 984 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T16:43:13.587+03:00  WARN 984 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:43:13.589+03:00  INFO 984 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T16:43:13.590+03:00  WARN 984 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:43:13.591+03:00  INFO 984 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T16:43:13.592+03:00  WARN 984 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:43:13.594+03:00  INFO 984 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T16:43:13.594+03:00  WARN 984 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:43:13.595+03:00  INFO 984 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T16:43:13.596+03:00  WARN 984 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:43:13.597+03:00  INFO 984 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T16:43:13.597+03:00  WARN 984 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:43:13.598+03:00  INFO 984 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T16:43:13.599+03:00  WARN 984 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:43:13.600+03:00  INFO 984 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T16:43:13.600+03:00  WARN 984 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:43:13.601+03:00  INFO 984 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T16:43:13.601+03:00  WARN 984 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:43:13.602+03:00  INFO 984 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T16:43:14.114+03:00  INFO 984 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T16:43:14.116+03:00  INFO 984 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T16:43:14.363+03:00  INFO 984 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T16:43:14.535+03:00  WARN 984 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T16:43:14.558+03:00  INFO 984 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T16:43:14.558+03:00  WARN 984 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T16:43:14.778+03:00 DEBUG 984 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T16:43:14.992+03:00  INFO 984 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T16:43:14.999+03:00  INFO 984 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 4.007 seconds (process running for 4.559)
2025-03-23T16:43:19.654+03:00  INFO 984 --- [demo1] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T16:43:19.654+03:00  INFO 984 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T16:43:19.655+03:00  INFO 984 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-23T16:43:19.668+03:00 DEBUG 984 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /auth/register
2025-03-23T16:43:20.126+03:00 DEBUG 984 --- [demo1] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T16:43:20.128+03:00 DEBUG 984 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@23148185, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_Admin]]
2025-03-23T16:43:20.131+03:00 DEBUG 984 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /auth/register
2025-03-23T16:43:44.405+03:00  INFO 984 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T16:43:44.529+03:00  WARN 984 --- [demo1] [http-nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23502
2025-03-23T16:43:44.530+03:00 ERROR 984 --- [demo1] [http-nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : ОШИБКА: значение NULL в столбце "role_id" отношения "users" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (10, newuser23456ss2322, newuser@example.com, +375291680734, $2a$10$4CZ3CGcp8gKVt5L0/Gfkce.I9XRYy.BdmwutEmtejJQoYhwpV4Ws., null).
2025-03-23T16:43:44.573+03:00 ERROR 984 --- [demo1] [http-nio-8080-exec-2] com.example.impl.UserImpl                : Add user error:

org.springframework.dao.DataIntegrityViolationException: could not execute statement [ОШИБКА: значение NULL в столбце "role_id" отношения "users" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (10, newuser23456ss2322, newuser@example.com, +375291680734, $2a$10$4CZ3CGcp8gKVt5L0/Gfkce.I9XRYy.BdmwutEmtejJQoYhwpV4Ws., null).] [insert into users (email,password_hash,phone,role_id,username) values (?,?,?,?,?) returning id]; SQL [insert into users (email,password_hash,phone,role_id,username) values (?,?,?,?,?) returning id]; constraint [null]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.4.0.jar:3.4.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy143.save(Unknown Source) ~[na:na]
	at com.example.impl.UserImpl.add(UserImpl.java:33) ~[classes/:na]
	at com.example.impl.UserImpl.add(UserImpl.java:20) ~[classes/:na]
	at com.example.controller.AuthController.register(AuthController.java:30) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.36.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.36.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:213) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ОШИБКА: значение NULL в столбце "role_id" отношения "users" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (10, newuser23456ss2322, newuser@example.com, +375291680734, $2a$10$4CZ3CGcp8gKVt5L0/Gfkce.I9XRYy.BdmwutEmtejJQoYhwpV4Ws., null).] [insert into users (email,password_hash,phone,role_id,username) values (?,?,?,?,?) returning id]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.execute(ResultSetReturnImpl.java:145) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.id.insert.InsertReturningDelegate.executeAndExtractReturning(InsertReturningDelegate.java:96) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.id.insert.AbstractReturningDelegate.performMutation(AbstractReturningDelegate.java:58) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:391) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:305) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:757) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:741) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364) ~[spring-orm-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy140.persist(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320) ~[spring-orm-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy140.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:623) ~[spring-data-jpa-3.4.0.jar:3.4.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.3.jar:6.2.3]
	... 100 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: значение NULL в столбце "role_id" отношения "users" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (10, newuser23456ss2322, newuser@example.com, +375291680734, $2a$10$4CZ3CGcp8gKVt5L0/Gfkce.I9XRYy.BdmwutEmtejJQoYhwpV4Ws., null).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.execute(PgPreparedStatement.java:177) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.execute(ResultSetReturnImpl.java:129) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	... 151 common frames omitted

2025-03-23T16:43:44.657+03:00  INFO 984 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T16:43:44.661+03:00  INFO 984 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T16:43:44.663+03:00  INFO 984 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T16:43:44.663+03:00  INFO 984 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T16:43:44.664+03:00  INFO 984 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T16:43:44.664+03:00  INFO 984 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T16:43:44.664+03:00  INFO 984 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T16:43:44.664+03:00  INFO 984 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T16:43:44.664+03:00  INFO 984 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T16:43:44.665+03:00  INFO 984 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T16:43:44.665+03:00  INFO 984 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T16:43:44.665+03:00  INFO 984 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T16:43:44.668+03:00  INFO 984 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T16:43:44.670+03:00  INFO 984 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T16:45:22.464+03:00  INFO 15264 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 15264 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T16:45:22.466+03:00  INFO 15264 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T16:45:22.837+03:00  INFO 15264 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T16:45:22.880+03:00  INFO 15264 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 10 JPA repository interfaces.
2025-03-23T16:45:23.362+03:00  INFO 15264 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T16:45:23.371+03:00  INFO 15264 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T16:45:23.371+03:00  INFO 15264 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T16:45:23.408+03:00  INFO 15264 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T16:45:23.409+03:00  INFO 15264 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 904 ms
2025-03-23T16:45:23.590+03:00  INFO 15264 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T16:45:23.696+03:00  INFO 15264 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1c98b4eb
2025-03-23T16:45:23.698+03:00  INFO 15264 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T16:45:23.717+03:00  INFO 15264 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T16:45:23.748+03:00  INFO 15264 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.018s)
2025-03-23T16:45:23.791+03:00  INFO 15264 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T16:45:23.793+03:00  INFO 15264 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T16:45:23.852+03:00  INFO 15264 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T16:45:23.894+03:00  INFO 15264 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T16:45:23.917+03:00  INFO 15264 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T16:45:24.108+03:00  INFO 15264 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T16:45:24.452+03:00  WARN 15264 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:45:24.499+03:00  INFO 15264 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T16:45:24.505+03:00  WARN 15264 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:45:24.507+03:00  INFO 15264 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T16:45:24.507+03:00  WARN 15264 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:45:24.508+03:00  INFO 15264 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T16:45:24.508+03:00  WARN 15264 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:45:24.510+03:00  INFO 15264 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T16:45:24.510+03:00  WARN 15264 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:45:24.511+03:00  INFO 15264 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T16:45:24.511+03:00  WARN 15264 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:45:24.512+03:00  INFO 15264 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T16:45:24.513+03:00  WARN 15264 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:45:24.514+03:00  INFO 15264 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T16:45:24.514+03:00  WARN 15264 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:45:24.515+03:00  INFO 15264 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T16:45:24.515+03:00  WARN 15264 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:45:24.516+03:00  INFO 15264 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T16:45:24.516+03:00  WARN 15264 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:45:24.517+03:00  INFO 15264 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T16:45:24.991+03:00  INFO 15264 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T16:45:24.993+03:00  INFO 15264 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T16:45:25.218+03:00  INFO 15264 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T16:45:25.376+03:00  WARN 15264 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T16:45:25.400+03:00  INFO 15264 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T16:45:25.400+03:00  WARN 15264 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T16:45:25.598+03:00 DEBUG 15264 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T16:45:25.787+03:00  INFO 15264 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T16:45:25.792+03:00  INFO 15264 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 3.622 seconds (process running for 4.02)
2025-03-23T16:45:38.751+03:00  INFO 15264 --- [demo1] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T16:45:38.751+03:00  INFO 15264 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T16:45:38.752+03:00  INFO 15264 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-23T16:45:38.763+03:00 DEBUG 15264 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /auth/register
2025-03-23T16:45:39.212+03:00 DEBUG 15264 --- [demo1] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T16:45:39.213+03:00 DEBUG 15264 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@c21b801, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_Admin]]
2025-03-23T16:45:39.215+03:00 DEBUG 15264 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /auth/register
2025-03-23T16:45:39.372+03:00  INFO 15264 --- [demo1] [http-nio-8080-exec-2] com.example.impl.UserImpl                : Adding user: UserDto(id=11, username=newuser23456ss2322, email=newuser@example.com, phone=+375291680734, role=1, password=$2a$10$xPEV7G9xWOEQ2YR9PG.FAeBwa1HxHxLvuJriiLD5Aww07CHAr3MWq)
2025-03-23T16:45:43.496+03:00  INFO 15264 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T16:45:43.500+03:00  INFO 15264 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T16:45:43.503+03:00  INFO 15264 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T16:45:43.505+03:00  INFO 15264 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T16:45:43.505+03:00  INFO 15264 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T16:45:43.505+03:00  INFO 15264 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T16:45:43.506+03:00  INFO 15264 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T16:45:43.506+03:00  INFO 15264 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T16:45:43.506+03:00  INFO 15264 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T16:45:43.506+03:00  INFO 15264 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T16:45:43.506+03:00  INFO 15264 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T16:45:43.506+03:00  INFO 15264 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T16:45:43.507+03:00  INFO 15264 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T16:45:43.510+03:00  INFO 15264 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T16:45:43.511+03:00  INFO 15264 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T16:53:24.629+03:00  INFO 17000 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 17000 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T16:53:24.631+03:00  INFO 17000 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T16:53:25.061+03:00  INFO 17000 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T16:53:25.105+03:00  INFO 17000 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 10 JPA repository interfaces.
2025-03-23T16:53:25.613+03:00  INFO 17000 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T16:53:25.623+03:00  INFO 17000 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T16:53:25.624+03:00  INFO 17000 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T16:53:25.661+03:00  INFO 17000 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T16:53:25.661+03:00  INFO 17000 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 986 ms
2025-03-23T16:53:25.845+03:00  INFO 17000 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T16:53:26.062+03:00  INFO 17000 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@34045582
2025-03-23T16:53:26.063+03:00  INFO 17000 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T16:53:26.081+03:00  INFO 17000 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T16:53:26.112+03:00  INFO 17000 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.019s)
2025-03-23T16:53:26.156+03:00  INFO 17000 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T16:53:26.158+03:00  INFO 17000 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T16:53:26.216+03:00  INFO 17000 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T16:53:26.258+03:00  INFO 17000 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T16:53:26.282+03:00  INFO 17000 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T16:53:26.476+03:00  INFO 17000 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T16:53:26.816+03:00  WARN 17000 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:53:26.865+03:00  INFO 17000 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T16:53:26.874+03:00  WARN 17000 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:53:26.875+03:00  INFO 17000 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T16:53:26.876+03:00  WARN 17000 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:53:26.877+03:00  INFO 17000 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T16:53:26.877+03:00  WARN 17000 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:53:26.878+03:00  INFO 17000 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T16:53:26.879+03:00  WARN 17000 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:53:26.880+03:00  INFO 17000 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T16:53:26.880+03:00  WARN 17000 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:53:26.881+03:00  INFO 17000 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T16:53:26.881+03:00  WARN 17000 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:53:26.882+03:00  INFO 17000 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T16:53:26.883+03:00  WARN 17000 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:53:26.884+03:00  INFO 17000 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T16:53:26.884+03:00  WARN 17000 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:53:26.885+03:00  INFO 17000 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T16:53:26.885+03:00  WARN 17000 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T16:53:26.886+03:00  INFO 17000 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T16:53:27.371+03:00  INFO 17000 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T16:53:27.374+03:00  INFO 17000 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T16:53:27.603+03:00  INFO 17000 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T16:53:27.771+03:00  WARN 17000 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T16:53:27.794+03:00  INFO 17000 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T16:53:27.794+03:00  WARN 17000 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T16:53:27.997+03:00 DEBUG 17000 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T16:53:28.195+03:00  INFO 17000 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T16:53:28.200+03:00  INFO 17000 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 3.9 seconds (process running for 4.321)
2025-03-23T16:54:14.498+03:00  INFO 17000 --- [demo1] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T16:54:14.498+03:00  INFO 17000 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T16:54:14.499+03:00  INFO 17000 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-23T16:54:14.511+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing PUT /profile
2025-03-23T16:54:14.981+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T16:54:14.981+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@2c9471b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_Admin]]
2025-03-23T16:54:14.983+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured PUT /profile
2025-03-23T16:54:20.275+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing PUT /profile
2025-03-23T16:54:20.521+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T16:54:20.522+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@4e32f93a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_Admin]]
2025-03-23T16:54:20.522+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured PUT /profile
2025-03-23T16:54:20.629+03:00  INFO 17000 --- [demo1] [http-nio-8080-exec-4] com.example.impl.UserImpl                : Updating user: UserDto(id=2, username=newuser23456ss232233, email=newuser@example.com, phone=+375291634333, role=1, password=$2a$10$KwiZTBheQDw.pGDwbS7cYOUDdPOn4zsp5pYreGnxjpH1MEGuHCjnO)
2025-03-23T16:54:56.141+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /listing
2025-03-23T16:54:56.203+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-5] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user 'jane_doe'
2025-03-23T16:54:56.204+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-5] o.s.s.w.a.www.BasicAuthenticationFilter  : Failed to process authentication request

org.springframework.security.authentication.BadCredentialsException: Bad credentials
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:141) ~[spring-security-core-6.4.3.jar:6.4.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.4.3.jar:6.4.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:187) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]

2025-03-23T16:54:56.207+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-03-23T16:54:56.207+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@3f784361
2025-03-23T16:54:56.211+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-03-23T16:54:56.211+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-23T16:54:56.221+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session
2025-03-23T16:54:56.221+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-03-23T16:54:56.221+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-5] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@3f784361
2025-03-23T16:55:14.264+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /listing
2025-03-23T16:55:14.326+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user 'jane_doe'
2025-03-23T16:55:14.326+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Failed to process authentication request

org.springframework.security.authentication.BadCredentialsException: Bad credentials
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:141) ~[spring-security-core-6.4.3.jar:6.4.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.4.3.jar:6.4.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:187) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]

2025-03-23T16:55:14.327+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-03-23T16:55:14.327+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@3f784361
2025-03-23T16:55:14.328+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-03-23T16:55:14.328+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-23T16:55:14.328+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session
2025-03-23T16:55:14.328+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-03-23T16:55:14.328+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-6] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@3f784361
2025-03-23T16:55:20.521+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /listing/t
2025-03-23T16:55:20.585+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-7] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user 'jane_doe'
2025-03-23T16:55:20.585+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-7] o.s.s.w.a.www.BasicAuthenticationFilter  : Failed to process authentication request

org.springframework.security.authentication.BadCredentialsException: Bad credentials
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:141) ~[spring-security-core-6.4.3.jar:6.4.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.4.3.jar:6.4.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:187) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]

2025-03-23T16:55:20.586+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-03-23T16:55:20.586+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@3f784361
2025-03-23T16:55:20.587+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-03-23T16:55:20.587+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-23T16:55:20.587+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session
2025-03-23T16:55:20.587+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2025-03-23T16:55:20.587+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-7] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@3f784361
2025-03-23T16:55:41.736+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /listing/t
2025-03-23T16:55:41.981+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T16:55:41.981+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-8] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@5ecc56ef, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BC47F56F6C28C03A53B547C571C10382], Granted Authorities=[ROLE_User]]
2025-03-23T16:55:41.982+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /listing/t
2025-03-23T16:55:42.005+03:00  INFO 17000 --- [demo1] [http-nio-8080-exec-8] com.example.impl.ListingImpl             : Get listing: [com.example.model.Listing@7dd1f353, com.example.model.Listing@2fc2d070, com.example.model.Listing@769e7704, com.example.model.Listing@24131154, com.example.model.Listing@1b33e908]
2025-03-23T16:55:42.011+03:00  INFO 17000 --- [demo1] [http-nio-8080-exec-8] com.example.impl.ListingImpl             : Get sorted listings successful
2025-03-23T16:55:42.016+03:00  INFO 17000 --- [demo1] [http-nio-8080-exec-8] com.example.impl.ListingImpl             : Get sorted listings successful by rating
2025-03-23T16:55:45.224+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /listing
2025-03-23T16:55:45.468+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-9] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T16:55:45.469+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-9] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@728eb788, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BC47F56F6C28C03A53B547C571C10382], Granted Authorities=[ROLE_User]]
2025-03-23T16:55:45.469+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /listing
2025-03-23T16:55:45.478+03:00  INFO 17000 --- [demo1] [http-nio-8080-exec-9] com.example.impl.ListingImpl             : Get listing: [com.example.model.Listing@7633234a, com.example.model.Listing@73cb86f1, com.example.model.Listing@77eee414, com.example.model.Listing@5189276d, com.example.model.Listing@66cafa4b]
2025-03-23T16:55:45.484+03:00  INFO 17000 --- [demo1] [http-nio-8080-exec-9] com.example.impl.ListingImpl             : Get sorted listings successful by promotion
2025-03-23T16:57:38.947+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /listing
2025-03-23T16:57:39.194+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T16:57:39.194+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@5f61189b, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BC47F56F6C28C03A53B547C571C10382], Granted Authorities=[ROLE_User]]
2025-03-23T16:57:39.195+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /listing
2025-03-23T16:57:39.217+03:00  INFO 17000 --- [demo1] [http-nio-8080-exec-2] com.example.impl.ListingImpl             : Adding listing: ListingDto(id=6, user=1, title=good, description=saddsad, price=20.0, createdAt=Sun Mar 23 16:57:39 MSK 2025)
2025-03-23T16:58:30.932+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /listing/2
2025-03-23T16:58:31.180+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T16:58:31.180+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@53c7e3a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BC47F56F6C28C03A53B547C571C10382], Granted Authorities=[ROLE_User]]
2025-03-23T16:58:31.180+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /listing/2
2025-03-23T16:58:31.189+03:00  INFO 17000 --- [demo1] [http-nio-8080-exec-3] com.example.impl.ListingImpl             : Get listing: [com.example.model.Listing@1430c000, com.example.model.Listing@77105e0c, com.example.model.Listing@1ccafb8c, com.example.model.Listing@3cef0d30, com.example.model.Listing@36000875, com.example.model.Listing@359b8441]
2025-03-23T16:58:31.192+03:00  INFO 17000 --- [demo1] [http-nio-8080-exec-3] com.example.impl.ListingImpl             : Get sorted listings successful
2025-03-23T16:58:31.194+03:00  INFO 17000 --- [demo1] [http-nio-8080-exec-3] com.example.impl.ListingImpl             : Get sorted listings successful by rating
2025-03-23T16:58:34.186+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /listing/1
2025-03-23T16:58:34.430+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T16:58:34.430+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@22ced8ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BC47F56F6C28C03A53B547C571C10382], Granted Authorities=[ROLE_User]]
2025-03-23T16:58:34.430+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /listing/1
2025-03-23T16:58:34.438+03:00  INFO 17000 --- [demo1] [http-nio-8080-exec-4] com.example.impl.ListingImpl             : Get listing: [com.example.model.Listing@4a65457f, com.example.model.Listing@206a21e2, com.example.model.Listing@774f247b, com.example.model.Listing@5bde3ce0, com.example.model.Listing@5044fe84, com.example.model.Listing@7e223696]
2025-03-23T16:58:34.441+03:00  INFO 17000 --- [demo1] [http-nio-8080-exec-4] com.example.impl.ListingImpl             : Get sorted listings successful
2025-03-23T16:58:34.443+03:00  INFO 17000 --- [demo1] [http-nio-8080-exec-4] com.example.impl.ListingImpl             : Get sorted listings successful by rating
2025-03-23T17:00:05.666+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /comment/1
2025-03-23T17:00:05.909+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-7] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T17:00:05.909+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-7] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@97936da, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BC47F56F6C28C03A53B547C571C10382], Granted Authorities=[ROLE_User]]
2025-03-23T17:00:05.909+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /comment/1
2025-03-23T17:00:05.935+03:00  INFO 17000 --- [demo1] [http-nio-8080-exec-7] com.example.impl.CommentImpl             : Getting comment for listing 1
2025-03-23T17:00:36.780+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /comment/1
2025-03-23T17:00:37.025+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T17:00:37.025+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-8] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@5b6c3ed9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BC47F56F6C28C03A53B547C571C10382], Granted Authorities=[ROLE_User]]
2025-03-23T17:00:37.025+03:00 DEBUG 17000 --- [demo1] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /comment/1
2025-03-23T17:00:51.537+03:00  INFO 17000 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T17:00:51.541+03:00  INFO 17000 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T17:00:51.544+03:00  INFO 17000 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T17:00:51.547+03:00  INFO 17000 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T17:00:51.547+03:00  INFO 17000 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T17:00:51.547+03:00  INFO 17000 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T17:00:51.547+03:00  INFO 17000 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T17:00:51.547+03:00  INFO 17000 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T17:00:51.547+03:00  INFO 17000 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T17:00:51.547+03:00  INFO 17000 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T17:00:51.547+03:00  INFO 17000 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T17:00:51.548+03:00  INFO 17000 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T17:00:51.548+03:00  INFO 17000 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T17:00:51.551+03:00  INFO 17000 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T17:00:51.553+03:00  INFO 17000 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T17:00:54.195+03:00  INFO 17652 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 17652 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T17:00:54.196+03:00  INFO 17652 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T17:00:54.568+03:00  INFO 17652 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T17:00:54.613+03:00  INFO 17652 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 10 JPA repository interfaces.
2025-03-23T17:00:55.100+03:00  INFO 17652 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T17:00:55.111+03:00  INFO 17652 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T17:00:55.111+03:00  INFO 17652 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T17:00:55.147+03:00  INFO 17652 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T17:00:55.148+03:00  INFO 17652 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 913 ms
2025-03-23T17:00:55.330+03:00  INFO 17652 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T17:00:55.536+03:00  INFO 17652 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1d2fb82
2025-03-23T17:00:55.537+03:00  INFO 17652 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T17:00:55.555+03:00  INFO 17652 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T17:00:55.587+03:00  INFO 17652 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.019s)
2025-03-23T17:00:55.633+03:00  INFO 17652 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T17:00:55.635+03:00  INFO 17652 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T17:00:55.691+03:00  INFO 17652 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T17:00:55.734+03:00  INFO 17652 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T17:00:55.759+03:00  INFO 17652 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T17:00:55.955+03:00  INFO 17652 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T17:00:56.300+03:00  WARN 17652 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:00:56.348+03:00  INFO 17652 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T17:00:56.354+03:00  WARN 17652 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:00:56.355+03:00  INFO 17652 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T17:00:56.356+03:00  WARN 17652 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:00:56.357+03:00  INFO 17652 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T17:00:56.357+03:00  WARN 17652 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:00:56.359+03:00  INFO 17652 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T17:00:56.359+03:00  WARN 17652 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:00:56.360+03:00  INFO 17652 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T17:00:56.360+03:00  WARN 17652 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:00:56.362+03:00  INFO 17652 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T17:00:56.362+03:00  WARN 17652 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:00:56.363+03:00  INFO 17652 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T17:00:56.363+03:00  WARN 17652 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:00:56.364+03:00  INFO 17652 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T17:00:56.364+03:00  WARN 17652 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:00:56.365+03:00  INFO 17652 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T17:00:56.366+03:00  WARN 17652 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:00:56.367+03:00  INFO 17652 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T17:00:56.843+03:00  INFO 17652 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T17:00:56.845+03:00  INFO 17652 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T17:00:57.075+03:00  INFO 17652 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T17:00:57.235+03:00  WARN 17652 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T17:00:57.260+03:00  INFO 17652 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T17:00:57.261+03:00  WARN 17652 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T17:00:57.457+03:00 DEBUG 17652 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T17:00:57.649+03:00  INFO 17652 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T17:00:57.654+03:00  INFO 17652 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 3.76 seconds (process running for 4.164)
2025-03-23T17:01:01.090+03:00  INFO 17652 --- [demo1] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T17:01:01.090+03:00  INFO 17652 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T17:01:01.091+03:00  INFO 17652 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-23T17:01:01.103+03:00 DEBUG 17652 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /comment/1
2025-03-23T17:01:01.564+03:00 DEBUG 17652 --- [demo1] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T17:01:01.565+03:00 DEBUG 17652 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@19f6edff, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_User]]
2025-03-23T17:01:01.568+03:00 DEBUG 17652 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /comment/1
2025-03-23T17:01:01.647+03:00  INFO 17652 --- [demo1] [http-nio-8080-exec-2] com.example.impl.ListingImpl             : Get listing: com.example.model.Listing@64002873
2025-03-23T17:01:01.665+03:00  WARN 17652 --- [demo1] [http-nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23502
2025-03-23T17:01:01.665+03:00 ERROR 17652 --- [demo1] [http-nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : ОШИБКА: значение NULL в столбце "created_at" отношения "comments" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (6, very good, null, 1, 1).
2025-03-23T17:01:01.670+03:00 ERROR 17652 --- [demo1] [http-nio-8080-exec-2] com.example.impl.CommentImpl             : Add comment error

org.springframework.dao.DataIntegrityViolationException: could not execute statement [ОШИБКА: значение NULL в столбце "created_at" отношения "comments" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (6, very good, null, 1, 1).] [insert into comments (content,created_at,listing_id,user_id) values (?,?,?,?) returning id]; SQL [insert into comments (content,created_at,listing_id,user_id) values (?,?,?,?) returning id]; constraint [null]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.4.0.jar:3.4.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy149.save(Unknown Source) ~[na:na]
	at com.example.impl.CommentImpl.add(CommentImpl.java:33) ~[classes/:na]
	at com.example.impl.CommentImpl.add(CommentImpl.java:17) ~[classes/:na]
	at com.example.controller.CommentController.addComment(CommentController.java:48) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.36.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.36.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:213) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ОШИБКА: значение NULL в столбце "created_at" отношения "comments" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (6, very good, null, 1, 1).] [insert into comments (content,created_at,listing_id,user_id) values (?,?,?,?) returning id]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.execute(ResultSetReturnImpl.java:145) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.id.insert.InsertReturningDelegate.executeAndExtractReturning(InsertReturningDelegate.java:96) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.id.insert.AbstractReturningDelegate.performMutation(AbstractReturningDelegate.java:58) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:391) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:305) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:757) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:741) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364) ~[spring-orm-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy140.persist(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320) ~[spring-orm-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy140.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:623) ~[spring-data-jpa-3.4.0.jar:3.4.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.3.jar:6.2.3]
	... 100 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: значение NULL в столбце "created_at" отношения "comments" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (6, very good, null, 1, 1).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.execute(PgPreparedStatement.java:177) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.execute(ResultSetReturnImpl.java:129) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	... 151 common frames omitted

2025-03-23T17:01:05.613+03:00 DEBUG 17652 --- [demo1] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /comment/1
2025-03-23T17:01:05.861+03:00 DEBUG 17652 --- [demo1] [http-nio-8080-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T17:01:05.861+03:00 DEBUG 17652 --- [demo1] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@728eb788, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_User]]
2025-03-23T17:01:05.861+03:00 DEBUG 17652 --- [demo1] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /comment/1
2025-03-23T17:01:05.896+03:00  INFO 17652 --- [demo1] [http-nio-8080-exec-3] com.example.impl.CommentImpl             : Getting comment for listing 1
2025-03-23T17:01:39.234+03:00  INFO 17652 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T17:01:39.238+03:00  INFO 17652 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T17:01:39.245+03:00  INFO 17652 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T17:01:39.249+03:00  INFO 17652 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T17:01:39.249+03:00  INFO 17652 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T17:01:39.249+03:00  INFO 17652 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T17:01:39.249+03:00  INFO 17652 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T17:01:39.250+03:00  INFO 17652 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T17:01:39.250+03:00  INFO 17652 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T17:01:39.251+03:00  INFO 17652 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T17:01:39.251+03:00  INFO 17652 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T17:01:39.251+03:00  INFO 17652 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T17:01:39.252+03:00  INFO 17652 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T17:01:39.255+03:00  INFO 17652 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T17:01:39.257+03:00  INFO 17652 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T17:01:54.741+03:00  INFO 17464 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 17464 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T17:01:54.743+03:00  INFO 17464 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T17:01:55.147+03:00  INFO 17464 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T17:01:55.188+03:00  INFO 17464 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 10 JPA repository interfaces.
2025-03-23T17:01:55.686+03:00  INFO 17464 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T17:01:55.696+03:00  INFO 17464 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T17:01:55.696+03:00  INFO 17464 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T17:01:55.734+03:00  INFO 17464 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T17:01:55.734+03:00  INFO 17464 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 944 ms
2025-03-23T17:01:55.916+03:00  INFO 17464 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T17:01:56.023+03:00  INFO 17464 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1b52699c
2025-03-23T17:01:56.025+03:00  INFO 17464 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T17:01:56.042+03:00  INFO 17464 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T17:01:56.074+03:00  INFO 17464 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.020s)
2025-03-23T17:01:56.220+03:00  INFO 17464 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T17:01:56.222+03:00  INFO 17464 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T17:01:56.279+03:00  INFO 17464 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T17:01:56.321+03:00  INFO 17464 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T17:01:56.344+03:00  INFO 17464 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T17:01:56.543+03:00  INFO 17464 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T17:01:56.886+03:00  WARN 17464 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:01:56.938+03:00  INFO 17464 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T17:01:56.944+03:00  WARN 17464 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:01:56.946+03:00  INFO 17464 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T17:01:56.946+03:00  WARN 17464 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:01:56.947+03:00  INFO 17464 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T17:01:56.947+03:00  WARN 17464 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:01:56.949+03:00  INFO 17464 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T17:01:56.949+03:00  WARN 17464 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:01:56.950+03:00  INFO 17464 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T17:01:56.951+03:00  WARN 17464 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:01:56.952+03:00  INFO 17464 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T17:01:56.952+03:00  WARN 17464 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:01:56.953+03:00  INFO 17464 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T17:01:56.953+03:00  WARN 17464 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:01:56.954+03:00  INFO 17464 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T17:01:56.954+03:00  WARN 17464 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:01:56.955+03:00  INFO 17464 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T17:01:56.956+03:00  WARN 17464 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:01:56.957+03:00  INFO 17464 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T17:01:57.433+03:00  INFO 17464 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T17:01:57.435+03:00  INFO 17464 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T17:01:57.664+03:00  INFO 17464 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T17:01:57.824+03:00  WARN 17464 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T17:01:57.849+03:00  INFO 17464 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T17:01:57.849+03:00  WARN 17464 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T17:01:58.049+03:00 DEBUG 17464 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T17:01:58.247+03:00  INFO 17464 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T17:01:58.252+03:00  INFO 17464 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 3.832 seconds (process running for 4.232)
2025-03-23T17:02:06.909+03:00  INFO 17464 --- [demo1] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T17:02:06.909+03:00  INFO 17464 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T17:02:06.910+03:00  INFO 17464 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-23T17:02:06.924+03:00 DEBUG 17464 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /comment/1
2025-03-23T17:02:07.378+03:00 DEBUG 17464 --- [demo1] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T17:02:07.379+03:00 DEBUG 17464 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@19f6edff, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_User]]
2025-03-23T17:02:07.381+03:00 DEBUG 17464 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /comment/1
2025-03-23T17:02:07.458+03:00  INFO 17464 --- [demo1] [http-nio-8080-exec-2] com.example.impl.ListingImpl             : Get listing: com.example.model.Listing@64002873
2025-03-23T17:02:07.475+03:00  WARN 17464 --- [demo1] [http-nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23502
2025-03-23T17:02:07.475+03:00 ERROR 17464 --- [demo1] [http-nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : ОШИБКА: значение NULL в столбце "created_at" отношения "comments" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (7, very good, null, 1, 1).
2025-03-23T17:02:07.480+03:00 ERROR 17464 --- [demo1] [http-nio-8080-exec-2] com.example.impl.CommentImpl             : Add comment error

org.springframework.dao.DataIntegrityViolationException: could not execute statement [ОШИБКА: значение NULL в столбце "created_at" отношения "comments" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (7, very good, null, 1, 1).] [insert into comments (content,created_at,listing_id,user_id) values (?,?,?,?) returning id]; SQL [insert into comments (content,created_at,listing_id,user_id) values (?,?,?,?) returning id]; constraint [null]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560) ~[spring-orm-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165) ~[spring-data-jpa-3.4.0.jar:3.4.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy149.save(Unknown Source) ~[na:na]
	at com.example.impl.CommentImpl.add(CommentImpl.java:33) ~[classes/:na]
	at com.example.impl.CommentImpl.add(CommentImpl.java:17) ~[classes/:na]
	at com.example.controller.CommentController.addComment(CommentController.java:48) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:257) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.36.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.36.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:213) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.3.jar:6.4.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.3.jar:6.2.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.3.jar:6.2.3]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.36.jar:10.1.36]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ОШИБКА: значение NULL в столбце "created_at" отношения "comments" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (7, very good, null, 1, 1).] [insert into comments (content,created_at,listing_id,user_id) values (?,?,?,?) returning id]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.execute(ResultSetReturnImpl.java:145) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.id.insert.InsertReturningDelegate.executeAndExtractReturning(InsertReturningDelegate.java:96) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.id.insert.AbstractReturningDelegate.performMutation(AbstractReturningDelegate.java:58) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:391) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:305) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:757) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:741) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364) ~[spring-orm-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy140.persist(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320) ~[spring-orm-6.2.3.jar:6.2.3]
	at jdk.proxy2/jdk.proxy2.$Proxy140.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:623) ~[spring-data-jpa-3.4.0.jar:3.4.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:752) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69) ~[spring-data-commons-3.4.3.jar:3.4.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.3.jar:6.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.3.jar:6.2.3]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138) ~[spring-tx-6.2.3.jar:6.2.3]
	... 100 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: значение NULL в столбце "created_at" отношения "comments" нарушает ограничение NOT NULL
  Подробности: Ошибочная строка содержит (7, very good, null, 1, 1).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgPreparedStatement.execute(PgPreparedStatement.java:177) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.execute(ResultSetReturnImpl.java:129) ~[hibernate-core-6.5.2.Final.jar:6.5.2.Final]
	... 151 common frames omitted

2025-03-23T17:02:45.996+03:00  INFO 17464 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T17:02:46.000+03:00  INFO 17464 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T17:02:46.003+03:00  INFO 17464 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T17:02:46.005+03:00  INFO 17464 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T17:02:46.006+03:00  INFO 17464 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T17:02:46.006+03:00  INFO 17464 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T17:02:46.006+03:00  INFO 17464 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T17:02:46.006+03:00  INFO 17464 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T17:02:46.006+03:00  INFO 17464 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T17:02:46.006+03:00  INFO 17464 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T17:02:46.006+03:00  INFO 17464 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T17:02:46.007+03:00  INFO 17464 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T17:02:46.007+03:00  INFO 17464 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T17:02:46.010+03:00  INFO 17464 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T17:02:46.013+03:00  INFO 17464 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T17:02:47.777+03:00  INFO 23564 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 23564 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T17:02:47.779+03:00  INFO 23564 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T17:02:48.165+03:00  INFO 23564 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T17:02:48.218+03:00  INFO 23564 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 10 JPA repository interfaces.
2025-03-23T17:02:48.748+03:00  INFO 23564 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T17:02:48.758+03:00  INFO 23564 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T17:02:48.759+03:00  INFO 23564 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T17:02:48.797+03:00  INFO 23564 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T17:02:48.797+03:00  INFO 23564 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 978 ms
2025-03-23T17:02:48.990+03:00  INFO 23564 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T17:02:49.211+03:00  INFO 23564 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3dde5f38
2025-03-23T17:02:49.212+03:00  INFO 23564 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T17:02:49.237+03:00  INFO 23564 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T17:02:49.273+03:00  INFO 23564 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.020s)
2025-03-23T17:02:49.317+03:00  INFO 23564 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T17:02:49.320+03:00  INFO 23564 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T17:02:49.379+03:00  INFO 23564 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T17:02:49.427+03:00  INFO 23564 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T17:02:49.455+03:00  INFO 23564 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T17:02:49.670+03:00  INFO 23564 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T17:02:50.083+03:00  WARN 23564 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:02:50.142+03:00  INFO 23564 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T17:02:50.150+03:00  WARN 23564 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:02:50.151+03:00  INFO 23564 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T17:02:50.152+03:00  WARN 23564 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:02:50.153+03:00  INFO 23564 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T17:02:50.153+03:00  WARN 23564 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:02:50.154+03:00  INFO 23564 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T17:02:50.155+03:00  WARN 23564 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:02:50.156+03:00  INFO 23564 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T17:02:50.156+03:00  WARN 23564 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:02:50.157+03:00  INFO 23564 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T17:02:50.158+03:00  WARN 23564 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:02:50.159+03:00  INFO 23564 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T17:02:50.159+03:00  WARN 23564 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:02:50.160+03:00  INFO 23564 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T17:02:50.160+03:00  WARN 23564 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:02:50.161+03:00  INFO 23564 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T17:02:50.162+03:00  WARN 23564 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:02:50.163+03:00  INFO 23564 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T17:02:50.700+03:00  INFO 23564 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T17:02:50.703+03:00  INFO 23564 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T17:02:50.944+03:00  INFO 23564 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T17:02:51.121+03:00  WARN 23564 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T17:02:51.144+03:00  INFO 23564 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T17:02:51.144+03:00  WARN 23564 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T17:02:51.356+03:00 DEBUG 23564 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T17:02:51.557+03:00  INFO 23564 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T17:02:51.563+03:00  INFO 23564 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 4.122 seconds (process running for 4.731)
2025-03-23T17:02:51.564+03:00  INFO 23564 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T17:02:51.567+03:00  INFO 23564 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T17:02:51.571+03:00  INFO 23564 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T17:02:51.573+03:00  INFO 23564 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T17:02:51.573+03:00  INFO 23564 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T17:02:51.573+03:00  INFO 23564 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T17:02:51.573+03:00  INFO 23564 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T17:02:51.574+03:00  INFO 23564 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T17:02:51.574+03:00  INFO 23564 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T17:02:51.574+03:00  INFO 23564 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T17:02:51.574+03:00  INFO 23564 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T17:02:51.574+03:00  INFO 23564 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T17:02:51.574+03:00  INFO 23564 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T17:02:51.578+03:00  INFO 23564 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T17:02:51.580+03:00  INFO 23564 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T17:03:09.478+03:00  INFO 13740 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 13740 (E:\Учеба\Курсы\demo1\api\target\classes started by FakeDisabling in E:\Учеба\Курсы\demo1)
2025-03-23T17:03:09.480+03:00  INFO 13740 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T17:03:09.866+03:00  INFO 13740 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T17:03:09.908+03:00  INFO 13740 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 10 JPA repository interfaces.
2025-03-23T17:03:10.397+03:00  INFO 13740 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T17:03:10.407+03:00  INFO 13740 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T17:03:10.407+03:00  INFO 13740 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T17:03:10.444+03:00  INFO 13740 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T17:03:10.444+03:00  INFO 13740 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 923 ms
2025-03-23T17:03:10.622+03:00  INFO 13740 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T17:03:10.843+03:00  INFO 13740 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1edccfd4
2025-03-23T17:03:10.844+03:00  INFO 13740 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T17:03:10.862+03:00  INFO 13740 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.2)
2025-03-23T17:03:10.893+03:00  INFO 13740 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.019s)
2025-03-23T17:03:10.937+03:00  INFO 13740 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T17:03:10.939+03:00  INFO 13740 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T17:03:10.995+03:00  INFO 13740 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T17:03:11.036+03:00  INFO 13740 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T17:03:11.059+03:00  INFO 13740 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T17:03:11.258+03:00  INFO 13740 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T17:03:11.604+03:00  WARN 13740 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:03:11.653+03:00  INFO 13740 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T17:03:11.660+03:00  WARN 13740 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:03:11.661+03:00  INFO 13740 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T17:03:11.662+03:00  WARN 13740 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:03:11.666+03:00  INFO 13740 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T17:03:11.666+03:00  WARN 13740 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:03:11.667+03:00  INFO 13740 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T17:03:11.668+03:00  WARN 13740 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:03:11.669+03:00  INFO 13740 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T17:03:11.669+03:00  WARN 13740 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:03:11.670+03:00  INFO 13740 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T17:03:11.671+03:00  WARN 13740 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:03:11.672+03:00  INFO 13740 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T17:03:11.672+03:00  WARN 13740 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:03:11.673+03:00  INFO 13740 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T17:03:11.673+03:00  WARN 13740 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:03:11.674+03:00  INFO 13740 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T17:03:11.674+03:00  WARN 13740 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T17:03:11.675+03:00  INFO 13740 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T17:03:12.157+03:00  INFO 13740 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T17:03:12.159+03:00  INFO 13740 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T17:03:12.392+03:00  INFO 13740 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T17:03:12.553+03:00  WARN 13740 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T17:03:12.575+03:00  INFO 13740 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T17:03:12.575+03:00  WARN 13740 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T17:03:12.773+03:00 DEBUG 13740 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T17:03:12.963+03:00  INFO 13740 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T17:03:12.968+03:00  INFO 13740 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 3.798 seconds (process running for 4.199)
2025-03-23T17:04:29.283+03:00  INFO 13740 --- [demo1] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T17:04:29.283+03:00  INFO 13740 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T17:04:29.284+03:00  INFO 13740 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-23T17:04:29.296+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /comment/1
2025-03-23T17:04:29.758+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T17:04:29.759+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@91c6649, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_User]]
2025-03-23T17:04:29.761+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /comment/1
2025-03-23T17:04:29.842+03:00  INFO 13740 --- [demo1] [http-nio-8080-exec-2] com.example.impl.ListingImpl             : Get listing: com.example.model.Listing@7093b636
2025-03-23T17:04:29.873+03:00  INFO 13740 --- [demo1] [http-nio-8080-exec-2] com.example.impl.CommentImpl             : Adding comment CommentDto(id=8, user=1, listing=1, content=very good, createAt=null)
2025-03-23T17:04:31.756+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /comment/1
2025-03-23T17:04:32.002+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T17:04:32.002+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@53c7e3a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_User]]
2025-03-23T17:04:32.002+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /comment/1
2025-03-23T17:04:32.027+03:00  INFO 13740 --- [demo1] [http-nio-8080-exec-3] com.example.impl.CommentImpl             : Getting comment for listing 1
2025-03-23T17:07:03.246+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /comment/1/2
2025-03-23T17:07:03.497+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T17:07:03.497+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-6] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@a03d4da, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_User]]
2025-03-23T17:07:03.498+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /comment/1/2
2025-03-23T17:07:03.505+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-03-23T17:07:03.505+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-03-23T17:07:29.488+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /message/1/2
2025-03-23T17:07:29.736+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-7] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T17:07:29.737+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-7] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@6089fc11, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_User]]
2025-03-23T17:07:29.737+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /message/1/2
2025-03-23T17:07:29.747+03:00  INFO 13740 --- [demo1] [http-nio-8080-exec-7] com.example.impl.MessageImpl             : Getting all messages from users: [com.example.model.Message@71491d43, com.example.model.Message@11794ef4]
2025-03-23T17:08:04.292+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /message
2025-03-23T17:08:04.538+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T17:08:04.538+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-8] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@5ecc56ef, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_User]]
2025-03-23T17:08:04.538+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /message
2025-03-23T17:08:13.541+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /message
2025-03-23T17:08:13.815+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-10] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T17:08:13.815+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-10] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@4f58d83, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_User]]
2025-03-23T17:08:13.815+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /message
2025-03-23T17:08:13.823+03:00  INFO 13740 --- [demo1] [http-nio-8080-exec-10] com.example.impl.MessageImpl             : Adding message: MessageDto(id=6, sender=1, receiver=2, content=very good, sentAt=Sun Mar 23 17:08:13 MSK 2025)
2025-03-23T17:08:20.082+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /message/1/2
2025-03-23T17:08:20.332+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T17:08:20.332+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@1e626742, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_User]]
2025-03-23T17:08:20.332+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /message/1/2
2025-03-23T17:08:20.340+03:00  INFO 13740 --- [demo1] [http-nio-8080-exec-1] com.example.impl.MessageImpl             : Getting all messages from users: [com.example.model.Message@1a4e15ab, com.example.model.Message@27100a5e, com.example.model.Message@799d0998]
2025-03-23T17:08:45.878+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /saleHistory
2025-03-23T17:08:46.129+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T17:08:46.130+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@36f20e8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_User]]
2025-03-23T17:08:46.130+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /saleHistory
2025-03-23T17:08:46.140+03:00  INFO 13740 --- [demo1] [http-nio-8080-exec-2] com.example.impl.SaleHistoryImpl         : Get all saleHistory: [1, 3, 5, 4]
2025-03-23T17:08:46.152+03:00  INFO 13740 --- [demo1] [http-nio-8080-exec-2] com.example.impl.ListingImpl             : Get listing: [com.example.model.Listing@67b86e06, com.example.model.Listing@15b9edd6, com.example.model.Listing@743e30b2, com.example.model.Listing@1cb72a6a, com.example.model.Listing@7b78c7a1, com.example.model.Listing@1dd852dd]
2025-03-23T17:08:52.823+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /saleHistory/1
2025-03-23T17:08:53.069+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T17:08:53.069+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-3] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@6b554fb2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_User]]
2025-03-23T17:08:53.069+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /saleHistory/1
2025-03-23T17:08:53.073+03:00  INFO 13740 --- [demo1] [http-nio-8080-exec-3] com.example.impl.UserImpl                : Get user: com.example.model.User@528a212
2025-03-23T17:08:53.075+03:00  INFO 13740 --- [demo1] [http-nio-8080-exec-3] com.example.impl.SaleHistoryImpl         : Get all saleHistory: [1, 3, 5, 4]
2025-03-23T17:08:53.081+03:00  INFO 13740 --- [demo1] [http-nio-8080-exec-3] com.example.impl.ListingImpl             : Get listing: [com.example.model.Listing@20a4cf27, com.example.model.Listing@53da5394, com.example.model.Listing@284aefc0, com.example.model.Listing@51c06f1e, com.example.model.Listing@1430c000, com.example.model.Listing@1144fcf0]
2025-03-23T17:08:57.491+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /saleHistory/2
2025-03-23T17:08:57.738+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T17:08:57.739+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@6b8344a2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_User]]
2025-03-23T17:08:57.739+03:00 DEBUG 13740 --- [demo1] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /saleHistory/2
2025-03-23T17:08:57.742+03:00  INFO 13740 --- [demo1] [http-nio-8080-exec-4] com.example.impl.UserImpl                : Get user: com.example.model.User@278e8294
2025-03-23T17:08:57.744+03:00  INFO 13740 --- [demo1] [http-nio-8080-exec-4] com.example.impl.SaleHistoryImpl         : Get all saleHistory: [2]
2025-03-23T17:08:57.749+03:00  INFO 13740 --- [demo1] [http-nio-8080-exec-4] com.example.impl.ListingImpl             : Get listing: [com.example.model.Listing@6a7f1084, com.example.model.Listing@42b5d87c, com.example.model.Listing@33cc3792, com.example.model.Listing@1ad4a92e, com.example.model.Listing@65ad43d7, com.example.model.Listing@5254cfd0]
2025-03-23T17:09:01.968+03:00  INFO 13740 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T17:09:01.972+03:00  INFO 13740 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T17:09:01.975+03:00  INFO 13740 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T17:09:01.977+03:00  INFO 13740 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T17:09:01.977+03:00  INFO 13740 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T17:09:01.977+03:00  INFO 13740 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T17:09:01.978+03:00  INFO 13740 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T17:09:01.978+03:00  INFO 13740 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T17:09:01.978+03:00  INFO 13740 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T17:09:01.978+03:00  INFO 13740 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T17:09:01.978+03:00  INFO 13740 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T17:09:01.978+03:00  INFO 13740 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T17:09:01.978+03:00  INFO 13740 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T17:09:01.981+03:00  INFO 13740 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T17:09:01.983+03:00  INFO 13740 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T18:23:51.529+03:00  INFO 9628 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 9628 (D:\Course\demo1\api\target\classes started by Санёк in D:\Course\demo1)
2025-03-23T18:23:51.532+03:00  INFO 9628 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T18:23:52.545+03:00  INFO 9628 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T18:23:52.638+03:00  INFO 9628 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 80 ms. Found 10 JPA repository interfaces.
2025-03-23T18:23:53.901+03:00  INFO 9628 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T18:23:53.922+03:00  INFO 9628 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T18:23:53.922+03:00  INFO 9628 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T18:23:54.013+03:00  INFO 9628 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T18:23:54.015+03:00  INFO 9628 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2369 ms
2025-03-23T18:23:54.482+03:00  INFO 9628 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T18:23:55.842+03:00  WARN 9628 --- [demo1] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Unable to obtain connection from database: �����: ���� ������ "advertisement" �� ����������
-------------------------------------------------------------------------------------------
SQL State  : 3D000
Error Code : 0
Message    : �����: ���� ������ "advertisement" �� ����������

2025-03-23T18:23:55.847+03:00  INFO 9628 --- [demo1] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-03-23T18:23:55.860+03:00  INFO 9628 --- [demo1] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-23T18:23:55.888+03:00 ERROR 9628 --- [demo1] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Unable to obtain connection from database: �����: ���� ������ "advertisement" �� ����������
-------------------------------------------------------------------------------------------
SQL State  : 3D000
Error Code : 0
Message    : �����: ���� ������ "advertisement" �� ����������

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.3.jar:3.4.3]
	at com.example.config.SpringBootApplication.main(SpringBootApplication.java:13) ~[classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Unable to obtain connection from database: �����: ���� ������ "advertisement" �� ����������
-------------------------------------------------------------------------------------------
SQL State  : 3D000
Error Code : 0
Message    : �����: ���� ������ "advertisement" �� ����������

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-6.2.3.jar:6.2.3]
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database: �����: ���� ������ "advertisement" �� ����������
-------------------------------------------------------------------------------------------
SQL State  : 3D000
Error Code : 0
Message    : �����: ���� ������ "advertisement" �� ����������

	at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:71) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.<init>(JdbcConnectionFactory.java:76) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:136) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.core.Flyway.migrate(Flyway.java:186) ~[flyway-core-11.4.0.jar:na]
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-3.4.3.jar:3.4.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.3.jar:6.2.3]
	... 17 common frames omitted
Caused by: org.postgresql.util.PSQLException: �����: ���� ������ "advertisement" �� ����������
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2825) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.QueryExecutorImpl.<init>(QueryExecutorImpl.java:175) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:313) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.Driver.makeConnection(Driver.java:443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.Driver.connect(Driver.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111) ~[HikariCP-5.1.0.jar:na]
	at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:59) ~[flyway-core-11.4.0.jar:na]
	... 23 common frames omitted

2025-03-23T18:25:16.028+03:00  INFO 6080 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 6080 (D:\Course\demo1\api\target\classes started by Санёк in D:\Course\demo1)
2025-03-23T18:25:16.032+03:00  INFO 6080 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T18:25:17.032+03:00  INFO 6080 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T18:25:17.133+03:00  INFO 6080 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 85 ms. Found 10 JPA repository interfaces.
2025-03-23T18:25:18.378+03:00  INFO 6080 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T18:25:18.397+03:00  INFO 6080 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T18:25:18.398+03:00  INFO 6080 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T18:25:18.462+03:00  INFO 6080 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T18:25:18.463+03:00  INFO 6080 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2324 ms
2025-03-23T18:25:18.788+03:00  INFO 6080 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T18:25:19.126+03:00  INFO 6080 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6a2d867d
2025-03-23T18:25:19.128+03:00  INFO 6080 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T18:25:19.158+03:00  INFO 6080 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.1)
2025-03-23T18:25:19.201+03:00  INFO 6080 --- [demo1] [main] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table "public"."flyway_schema_history" does not exist yet
2025-03-23T18:25:19.206+03:00  INFO 6080 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.022s)
2025-03-23T18:25:19.220+03:00  INFO 6080 --- [demo1] [main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table "public"."flyway_schema_history" ...
2025-03-23T18:25:19.292+03:00  INFO 6080 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": << Empty Schema >>
2025-03-23T18:25:19.306+03:00  INFO 6080 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "public" to version "1 - create tables"
2025-03-23T18:25:19.415+03:00  INFO 6080 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "public" to version "2 - insert tables"
2025-03-23T18:25:19.451+03:00  INFO 6080 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Successfully applied 2 migrations to schema "public", now at version v2 (execution time 00:00.091s)
2025-03-23T18:25:19.556+03:00  INFO 6080 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T18:25:19.662+03:00  INFO 6080 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T18:25:19.714+03:00  INFO 6080 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T18:25:20.096+03:00  INFO 6080 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T18:25:20.708+03:00  WARN 6080 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T18:25:20.778+03:00  INFO 6080 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T18:25:20.787+03:00  WARN 6080 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T18:25:20.791+03:00  INFO 6080 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T18:25:20.792+03:00  WARN 6080 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T18:25:20.794+03:00  INFO 6080 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T18:25:20.795+03:00  WARN 6080 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T18:25:20.797+03:00  INFO 6080 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T18:25:20.798+03:00  WARN 6080 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T18:25:20.801+03:00  INFO 6080 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T18:25:20.801+03:00  WARN 6080 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T18:25:20.803+03:00  INFO 6080 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T18:25:20.804+03:00  WARN 6080 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T18:25:20.806+03:00  INFO 6080 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T18:25:20.807+03:00  WARN 6080 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T18:25:20.809+03:00  INFO 6080 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T18:25:20.810+03:00  WARN 6080 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T18:25:20.813+03:00  INFO 6080 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T18:25:20.813+03:00  WARN 6080 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T18:25:20.815+03:00  INFO 6080 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T18:25:21.669+03:00  INFO 6080 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T18:25:21.672+03:00  INFO 6080 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T18:25:22.186+03:00  INFO 6080 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T18:25:22.523+03:00  WARN 6080 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T18:25:22.558+03:00  INFO 6080 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T18:25:22.558+03:00  WARN 6080 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T18:25:22.956+03:00 DEBUG 6080 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T18:25:23.322+03:00  INFO 6080 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T18:25:23.331+03:00  INFO 6080 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 8.12 seconds (process running for 9.885)
2025-03-23T18:28:48.485+03:00  INFO 6080 --- [demo1] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-23T18:28:48.496+03:00  INFO 6080 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-23T18:28:48.536+03:00  INFO 6080 --- [demo1] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 40 ms
2025-03-23T18:28:48.610+03:00 DEBUG 6080 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /listing
2025-03-23T18:28:49.640+03:00 DEBUG 6080 --- [demo1] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-23T18:28:49.642+03:00 DEBUG 6080 --- [demo1] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.example.model.User@56992a1e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_User]]
2025-03-23T18:28:49.648+03:00 DEBUG 6080 --- [demo1] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /listing
2025-03-23T18:28:49.768+03:00  INFO 6080 --- [demo1] [http-nio-8080-exec-2] com.example.impl.ListingImpl             : Get listing: [com.example.model.Listing@26678807, com.example.model.Listing@238dab48, com.example.model.Listing@4d3fde3a, com.example.model.Listing@1afb39d8, com.example.model.Listing@27b0e6a8]
2025-03-23T18:28:49.783+03:00  INFO 6080 --- [demo1] [http-nio-8080-exec-2] com.example.impl.ListingImpl             : Get sorted listings successful by promotion
2025-03-23T18:28:56.313+03:00  INFO 6080 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T18:28:56.338+03:00  INFO 6080 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T18:28:56.374+03:00  INFO 6080 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T18:28:56.386+03:00  INFO 6080 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T18:28:56.387+03:00  INFO 6080 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T18:28:56.388+03:00  INFO 6080 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T18:28:56.389+03:00  INFO 6080 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T18:28:56.389+03:00  INFO 6080 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T18:28:56.389+03:00  INFO 6080 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T18:28:56.390+03:00  INFO 6080 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T18:28:56.390+03:00  INFO 6080 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T18:28:56.390+03:00  INFO 6080 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T18:28:56.391+03:00  INFO 6080 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T18:28:56.408+03:00  INFO 6080 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T18:28:56.419+03:00  INFO 6080 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T18:32:05.649+03:00  INFO 2100 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 2100 (D:\Course\demo1\api\target\classes started by Санёк in D:\Course\demo1)
2025-03-23T18:32:05.654+03:00  INFO 2100 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T18:32:06.942+03:00  INFO 2100 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T18:32:07.057+03:00  INFO 2100 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 99 ms. Found 10 JPA repository interfaces.
2025-03-23T18:32:08.396+03:00  INFO 2100 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T18:32:08.423+03:00  INFO 2100 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T18:32:08.423+03:00  INFO 2100 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T18:32:08.501+03:00  INFO 2100 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T18:32:08.502+03:00  INFO 2100 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2698 ms
2025-03-23T18:32:08.884+03:00  INFO 2100 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T18:32:09.082+03:00  INFO 2100 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@dbed7fd
2025-03-23T18:32:09.084+03:00  INFO 2100 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T18:32:09.116+03:00  INFO 2100 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.1)
2025-03-23T18:32:09.184+03:00  INFO 2100 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.043s)
2025-03-23T18:32:09.247+03:00  INFO 2100 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T18:32:09.252+03:00  INFO 2100 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T18:32:09.455+03:00  INFO 2100 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T18:32:09.593+03:00  INFO 2100 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T18:32:09.659+03:00  INFO 2100 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T18:32:10.127+03:00  INFO 2100 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T18:32:11.082+03:00  WARN 2100 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T18:32:11.232+03:00  INFO 2100 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T18:32:11.256+03:00  WARN 2100 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T18:32:11.260+03:00  INFO 2100 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T18:32:11.262+03:00  WARN 2100 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T18:32:11.265+03:00  INFO 2100 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T18:32:11.266+03:00  WARN 2100 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T18:32:11.270+03:00  INFO 2100 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T18:32:11.271+03:00  WARN 2100 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T18:32:11.276+03:00  INFO 2100 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T18:32:11.277+03:00  WARN 2100 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T18:32:11.280+03:00  INFO 2100 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T18:32:11.280+03:00  WARN 2100 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T18:32:11.282+03:00  INFO 2100 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T18:32:11.283+03:00  WARN 2100 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T18:32:11.288+03:00  INFO 2100 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T18:32:11.289+03:00  WARN 2100 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T18:32:11.292+03:00  INFO 2100 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T18:32:11.294+03:00  WARN 2100 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T18:32:11.299+03:00  INFO 2100 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T18:32:12.220+03:00  INFO 2100 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T18:32:12.224+03:00  INFO 2100 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T18:32:12.866+03:00  INFO 2100 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T18:32:13.300+03:00  WARN 2100 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T18:32:13.340+03:00  INFO 2100 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T18:32:13.340+03:00  WARN 2100 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T18:32:13.725+03:00 DEBUG 2100 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T18:32:14.062+03:00  INFO 2100 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T18:32:14.070+03:00  INFO 2100 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 9.603 seconds (process running for 11.182)
2025-03-23T18:32:14.072+03:00  INFO 2100 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T18:32:14.085+03:00  INFO 2100 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T18:32:14.090+03:00  INFO 2100 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T18:32:14.093+03:00  INFO 2100 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T18:32:14.093+03:00  INFO 2100 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T18:32:14.094+03:00  INFO 2100 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T18:32:14.094+03:00  INFO 2100 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T18:32:14.094+03:00  INFO 2100 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T18:32:14.094+03:00  INFO 2100 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T18:32:14.095+03:00  INFO 2100 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T18:32:14.095+03:00  INFO 2100 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T18:32:14.095+03:00  INFO 2100 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T18:32:14.095+03:00  INFO 2100 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T18:32:14.102+03:00  INFO 2100 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T18:32:14.107+03:00  INFO 2100 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T20:52:32.138+03:00  INFO 9552 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 9552 (D:\Course\demo1\api\target\classes started by Санёк in D:\Course\demo1)
2025-03-23T20:52:32.141+03:00  INFO 9552 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T20:52:34.136+03:00  INFO 9552 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T20:52:34.337+03:00  INFO 9552 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 175 ms. Found 10 JPA repository interfaces.
2025-03-23T20:52:36.511+03:00  INFO 9552 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T20:52:36.542+03:00  INFO 9552 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T20:52:36.544+03:00  INFO 9552 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T20:52:36.722+03:00  INFO 9552 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T20:52:36.731+03:00  INFO 9552 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4466 ms
2025-03-23T20:52:37.672+03:00  INFO 9552 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T20:52:38.100+03:00  INFO 9552 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@20a24edf
2025-03-23T20:52:38.106+03:00  INFO 9552 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T20:52:38.206+03:00  INFO 9552 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.1)
2025-03-23T20:52:38.323+03:00  INFO 9552 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.071s)
2025-03-23T20:52:38.429+03:00  INFO 9552 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T20:52:38.435+03:00  INFO 9552 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T20:52:38.687+03:00  INFO 9552 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T20:52:38.858+03:00  INFO 9552 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T20:52:39.009+03:00  INFO 9552 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T20:52:39.885+03:00  INFO 9552 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T20:52:41.648+03:00  WARN 9552 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T20:52:41.845+03:00  INFO 9552 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T20:52:41.866+03:00  WARN 9552 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T20:52:41.870+03:00  INFO 9552 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T20:52:41.871+03:00  WARN 9552 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T20:52:41.907+03:00  INFO 9552 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T20:52:41.910+03:00  WARN 9552 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T20:52:41.917+03:00  INFO 9552 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T20:52:41.918+03:00  WARN 9552 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T20:52:41.922+03:00  INFO 9552 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T20:52:41.923+03:00  WARN 9552 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T20:52:41.934+03:00  INFO 9552 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T20:52:41.935+03:00  WARN 9552 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T20:52:41.937+03:00  INFO 9552 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T20:52:41.938+03:00  WARN 9552 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T20:52:41.943+03:00  INFO 9552 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T20:52:41.943+03:00  WARN 9552 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T20:52:41.947+03:00  INFO 9552 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T20:52:41.948+03:00  WARN 9552 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T20:52:41.950+03:00  INFO 9552 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T20:52:43.788+03:00  INFO 9552 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T20:52:43.793+03:00  INFO 9552 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T20:52:44.450+03:00  INFO 9552 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T20:52:44.847+03:00  WARN 9552 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T20:52:44.892+03:00  INFO 9552 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T20:52:44.893+03:00  WARN 9552 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T20:52:45.406+03:00 DEBUG 9552 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T20:52:45.871+03:00  INFO 9552 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T20:52:45.881+03:00  INFO 9552 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 14.612 seconds (process running for 16.186)
2025-03-23T20:55:38.132+03:00  INFO 9552 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T20:55:38.250+03:00  INFO 9552 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T20:55:38.366+03:00  INFO 9552 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T20:55:38.507+03:00  INFO 9552 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T20:55:38.509+03:00  INFO 9552 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T20:55:38.510+03:00  INFO 9552 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T20:55:38.511+03:00  INFO 9552 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T20:55:38.512+03:00  INFO 9552 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T20:55:38.512+03:00  INFO 9552 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T20:55:38.512+03:00  INFO 9552 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T20:55:38.513+03:00  INFO 9552 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T20:55:38.515+03:00  INFO 9552 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T20:55:38.516+03:00  INFO 9552 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T20:55:38.611+03:00  INFO 9552 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T20:55:38.686+03:00  INFO 9552 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-23T20:56:32.195+03:00  INFO 2736 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 2736 (D:\Course\demo1\api\target\classes started by Санёк in D:\Course\demo1)
2025-03-23T20:56:32.198+03:00  INFO 2736 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T20:56:33.124+03:00  INFO 2736 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T20:56:33.245+03:00  INFO 2736 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 105 ms. Found 10 JPA repository interfaces.
2025-03-23T20:56:34.418+03:00  INFO 2736 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T20:56:34.434+03:00  INFO 2736 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T20:56:34.434+03:00  INFO 2736 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T20:56:34.485+03:00  INFO 2736 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T20:56:34.486+03:00  INFO 2736 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2184 ms
2025-03-23T20:56:34.800+03:00  INFO 2736 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T20:56:45.861+03:00  WARN 2736 --- [demo1] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Unable to obtain connection from database: Ошибка при попытке подсоединения.
----------------------------------------------------------------------------
SQL State  : 08001
Error Code : 0
Message    : Ошибка при попытке подсоединения.

2025-03-23T20:56:45.871+03:00  INFO 2736 --- [demo1] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-03-23T20:56:45.892+03:00  INFO 2736 --- [demo1] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-23T20:56:45.912+03:00 ERROR 2736 --- [demo1] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Unable to obtain connection from database: Ошибка при попытке подсоединения.
----------------------------------------------------------------------------
SQL State  : 08001
Error Code : 0
Message    : Ошибка при попытке подсоединения.

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.3.jar:6.2.3]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.4.3.jar:3.4.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.4.3.jar:3.4.3]
	at com.example.config.SpringBootApplication.main(SpringBootApplication.java:13) ~[classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Unable to obtain connection from database: Ошибка при попытке подсоединения.
----------------------------------------------------------------------------
SQL State  : 08001
Error Code : 0
Message    : Ошибка при попытке подсоединения.

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:346) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-6.2.3.jar:6.2.3]
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database: Ошибка при попытке подсоединения.
----------------------------------------------------------------------------
SQL State  : 08001
Error Code : 0
Message    : Ошибка при попытке подсоединения.

	at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:71) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.<init>(JdbcConnectionFactory.java:76) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:136) ~[flyway-core-11.4.0.jar:na]
	at org.flywaydb.core.Flyway.migrate(Flyway.java:186) ~[flyway-core-11.4.0.jar:na]
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-3.4.3.jar:3.4.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.3.jar:6.2.3]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.3.jar:6.2.3]
	... 17 common frames omitted
Caused by: org.postgresql.util.PSQLException: Ошибка при попытке подсоединения.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.Driver.makeConnection(Driver.java:443) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.Driver.connect(Driver.java:297) ~[postgresql-42.6.0.jar:42.6.0]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111) ~[HikariCP-5.1.0.jar:na]
	at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:59) ~[flyway-core-11.4.0.jar:na]
	... 23 common frames omitted
Caused by: java.net.SocketTimeoutException: Connect timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:546) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:760) ~[na:na]
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.PGStream.<init>(PGStream.java:98) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132) ~[postgresql-42.6.0.jar:42.6.0]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258) ~[postgresql-42.6.0.jar:42.6.0]
	... 35 common frames omitted

2025-03-23T21:29:13.799+03:00  INFO 6244 --- [demo1] [main] c.example.config.SpringBootApplication   : Starting SpringBootApplication using Java 23.0.1 with PID 6244 (D:\Course\demo1\api\target\classes started by Санёк in D:\Course\demo1)
2025-03-23T21:29:13.803+03:00  INFO 6244 --- [demo1] [main] c.example.config.SpringBootApplication   : No active profile set, falling back to 1 default profile: "default"
2025-03-23T21:29:15.200+03:00  INFO 6244 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-23T21:29:15.339+03:00  INFO 6244 --- [demo1] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 120 ms. Found 10 JPA repository interfaces.
2025-03-23T21:29:16.967+03:00  INFO 6244 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-23T21:29:16.998+03:00  INFO 6244 --- [demo1] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-23T21:29:16.999+03:00  INFO 6244 --- [demo1] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-03-23T21:29:17.101+03:00  INFO 6244 --- [demo1] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-23T21:29:17.102+03:00  INFO 6244 --- [demo1] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3056 ms
2025-03-23T21:29:17.751+03:00  INFO 6244 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-23T21:29:18.048+03:00  INFO 6244 --- [demo1] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@14457a95
2025-03-23T21:29:18.051+03:00  INFO 6244 --- [demo1] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-23T21:29:18.103+03:00  INFO 6244 --- [demo1] [main] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://localhost:5432/advertisement (PostgreSQL 17.1)
2025-03-23T21:29:18.201+03:00  INFO 6244 --- [demo1] [main] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.055s)
2025-03-23T21:29:18.245+03:00  INFO 6244 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 2
2025-03-23T21:29:18.252+03:00  INFO 6244 --- [demo1] [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-03-23T21:29:18.459+03:00  INFO 6244 --- [demo1] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-23T21:29:18.607+03:00  INFO 6244 --- [demo1] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2025-03-23T21:29:18.707+03:00  INFO 6244 --- [demo1] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000025: Second-level cache region factory [org.hibernate.cache.jcache.internal.JCacheRegionFactory]
2025-03-23T21:29:19.372+03:00  INFO 6244 --- [demo1] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-23T21:29:20.389+03:00  WARN 6244 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Promotion] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T21:29:20.496+03:00  INFO 6244 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' created in EhcacheManager.
2025-03-23T21:29:20.512+03:00  WARN 6244 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Rating] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T21:29:20.518+03:00  INFO 6244 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' created in EhcacheManager.
2025-03-23T21:29:20.519+03:00  WARN 6244 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Listing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T21:29:20.521+03:00  INFO 6244 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' created in EhcacheManager.
2025-03-23T21:29:20.522+03:00  WARN 6244 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.CategoryListing] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T21:29:20.525+03:00  INFO 6244 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' created in EhcacheManager.
2025-03-23T21:29:20.526+03:00  WARN 6244 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T21:29:20.529+03:00  INFO 6244 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' created in EhcacheManager.
2025-03-23T21:29:20.529+03:00  WARN 6244 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Message] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T21:29:20.534+03:00  INFO 6244 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' created in EhcacheManager.
2025-03-23T21:29:20.536+03:00  WARN 6244 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Comment] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T21:29:20.540+03:00  INFO 6244 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' created in EhcacheManager.
2025-03-23T21:29:20.541+03:00  WARN 6244 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Category] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T21:29:20.544+03:00  INFO 6244 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' created in EhcacheManager.
2025-03-23T21:29:20.545+03:00  WARN 6244 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.Role] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T21:29:20.551+03:00  INFO 6244 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' created in EhcacheManager.
2025-03-23T21:29:20.552+03:00  WARN 6244 --- [demo1] [main] org.hibernate.orm.cache                  : HHH90001006: Missing cache[com.example.model.SaleHistory] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2025-03-23T21:29:20.556+03:00  INFO 6244 --- [demo1] [main] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' created in EhcacheManager.
2025-03-23T21:29:22.039+03:00  INFO 6244 --- [demo1] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-23T21:29:22.045+03:00  INFO 6244 --- [demo1] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T21:29:22.728+03:00  INFO 6244 --- [demo1] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-23T21:29:23.251+03:00  WARN 6244 --- [demo1] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-23T21:29:23.312+03:00  INFO 6244 --- [demo1] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authProvider
2025-03-23T21:29:23.312+03:00  WARN 6244 --- [demo1] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-03-23T21:29:24.079+03:00 DEBUG 6244 --- [demo1] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, BasicAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-23T21:29:24.624+03:00  INFO 6244 --- [demo1] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-23T21:29:24.635+03:00  INFO 6244 --- [demo1] [main] c.example.config.SpringBootApplication   : Started SpringBootApplication in 12.017 seconds (process running for 15.123)
2025-03-23T21:29:45.744+03:00  INFO 6244 --- [demo1] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-23T21:29:45.890+03:00  INFO 6244 --- [demo1] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-23T21:29:45.910+03:00  INFO 6244 --- [demo1] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-23T21:29:45.994+03:00  INFO 6244 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Listing' removed from EhcacheManager.
2025-03-23T21:29:45.995+03:00  INFO 6244 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Message' removed from EhcacheManager.
2025-03-23T21:29:45.999+03:00  INFO 6244 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Comment' removed from EhcacheManager.
2025-03-23T21:29:46.000+03:00  INFO 6244 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.User' removed from EhcacheManager.
2025-03-23T21:29:46.000+03:00  INFO 6244 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.SaleHistory' removed from EhcacheManager.
2025-03-23T21:29:46.001+03:00  INFO 6244 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Category' removed from EhcacheManager.
2025-03-23T21:29:46.003+03:00  INFO 6244 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Promotion' removed from EhcacheManager.
2025-03-23T21:29:46.004+03:00  INFO 6244 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.CategoryListing' removed from EhcacheManager.
2025-03-23T21:29:46.005+03:00  INFO 6244 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Rating' removed from EhcacheManager.
2025-03-23T21:29:46.006+03:00  INFO 6244 --- [demo1] [SpringApplicationShutdownHook] org.ehcache.core.EhcacheManager          : Cache 'com.example.model.Role' removed from EhcacheManager.
2025-03-23T21:29:46.062+03:00  INFO 6244 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-23T21:29:46.088+03:00  INFO 6244 --- [demo1] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
